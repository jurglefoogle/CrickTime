{"ast":null,"code":"import _objectSpread from\"C:/Users/jurgl/HTMLProjects/CrickTime/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useEffect,useState}from'react';import Card from'../ui/Card';import Button from'../ui/Button';import{dataService}from'../../utils/dataService';/**\r\n * Jobs Tab\r\n * Shows open & closed jobs with ability to close and invoice.\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const JobsTab=_ref=>{let{appData,updateAppData,onNavigate,onInvoiceJob}=_ref;const jobs=appData.jobs||[];const charges=appData.charges||[];const[expandedChargesJobId,setExpandedChargesJobId]=useState(null);const[chargeForm,setChargeForm]=useState({kind:'part',description:'',quantity:'1',unitCost:'',unitPrice:'',clientId:'',category:''});const[editingChargeId,setEditingChargeId]=useState(null);const[editDraft,setEditDraft]=useState(null);// { id, description, quantity, unitCost, unitPrice, category }\nconst[showBulkAdd,setShowBulkAdd]=useState(false);const[bulkText,setBulkText]=useState('');useEffect(()=>{const entries=appData.entries||[];const currentJobs=appData.jobs||[];const missingJobEntries=entries.filter(e=>e.taskName&&(!e.jobId||!currentJobs.find(j=>j.id===e.jobId)));if(!missingJobEntries.length)return;const additions=[];const updates=[];missingJobEntries.forEach(e=>{const name=e.taskName.trim();let job=currentJobs.find(j=>j.name.toLowerCase()===name.toLowerCase());if(!job){job={id:dataService.generateId(),name,closed:false,createdAt:Date.now()};additions.push(job);}if(!e.jobId)updates.push({entryId:e.id,jobId:job.id});});if(additions.length||updates.length){const updatedJobs=[...currentJobs,...additions];const updatedEntries=entries.map(e=>{const upd=updates.find(u=>u.entryId===e.id);return upd?_objectSpread(_objectSpread({},e),{},{jobId:upd.jobId}):e;});updateAppData({jobs:updatedJobs,entries:updatedEntries});}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// Legacy auto-derivation removed.\nconst openJobs=jobs.filter(j=>!j.closed);const closedJobs=jobs.filter(j=>j.closed);// Aggregate metrics for jobs\nconst jobStats=useMemo(()=>{const map={};(appData.entries||[]).forEach(e=>{const jobId=e.jobId;if(!jobId)return;if(!map[jobId])map[jobId]={hours:0,amount:0};if(e.end){const client=appData.clients.find(c=>c.id===e.clientId);const hours=dataService.durationToHours(e.end-e.start);map[jobId].hours+=hours;map[jobId].amount+=client?hours*client.rate:0;}});return map;},[appData.entries,appData.clients]);const closeJob=job=>{if(!window.confirm(\"Close job \\\"\".concat(job.name,\"\\\"? It will be hidden from selection.\")))return;updateAppData({jobs:jobs.map(j=>j.id===job.id?_objectSpread(_objectSpread({},j),{},{closed:true,closedAt:Date.now()}):j)});};const reopenJob=job=>{updateAppData({jobs:jobs.map(j=>j.id===job.id?_objectSpread(_objectSpread({},j),{},{closed:false,closedAt:null}):j)});};// ---- Charges Helpers (Phase 1 Parts & Expenses) ----\nconst chargesForJob=jobId=>charges.filter(c=>c.jobId===jobId);const addCharge=job=>{var _appData$entries$find,_appData$clients$;const desc=chargeForm.description.trim();if(!desc){alert('Description required');return;}const qty=parseFloat(chargeForm.quantity)||0;if(qty<=0){alert('Quantity must be > 0');return;}const unitCost=parseFloat(chargeForm.unitCost)||0;if(unitCost<0){alert('Unit cost >= 0');return;}const unitPrice=chargeForm.unitPrice?parseFloat(chargeForm.unitPrice):unitCost;if(unitPrice<0){alert('Unit price >= 0');return;}const amountCached=qty*unitPrice;// Determine client: prefer explicit selection on form if present\nconst inferredClientId=((_appData$entries$find=appData.entries.find(e=>e.jobId===job.id))===null||_appData$entries$find===void 0?void 0:_appData$entries$find.clientId)||chargeForm.clientId||((_appData$clients$=appData.clients[0])===null||_appData$clients$===void 0?void 0:_appData$clients$.id)||'';if(!inferredClientId){alert('Select a client for this charge.');return;}const newCharge={id:dataService.generateId(),jobId:job.id,clientId:inferredClientId,kind:chargeForm.kind,description:desc,quantity:qty,unitCost,unitPrice,category:chargeForm.kind==='expense'?chargeForm.category||'other':undefined,amountCached,createdAt:Date.now(),invoiced:false};updateAppData({charges:[...charges,newCharge]});setChargeForm({kind:'part',description:'',quantity:'1',unitCost:'',unitPrice:'',clientId:chargeForm.clientId||''});};const deleteCharge=chargeId=>{if(!window.confirm('Delete this charge?'))return;updateAppData({charges:charges.filter(c=>c.id!==chargeId)});};const beginEdit=charge=>{if(charge.invoiced)return;setEditingChargeId(charge.id);setEditDraft(_objectSpread(_objectSpread({},charge),{},{quantity:String(charge.quantity),unitCost:String(charge.unitCost),unitPrice:String(charge.unitPrice),description:charge.description,category:charge.category||''}));};const cancelEdit=()=>{setEditingChargeId(null);setEditDraft(null);};const saveEdit=()=>{if(!editDraft)return;const desc=editDraft.description.trim();if(!desc){alert('Description required');return;}const qty=parseFloat(editDraft.quantity)||0;if(qty<=0){alert('Qty > 0');return;}const unitCost=parseFloat(editDraft.unitCost)||0;if(unitCost<0){alert('Cost >=0');return;}const unitPrice=parseFloat(editDraft.unitPrice)||0;if(unitPrice<0){alert('Price >=0');return;}const amountCached=qty*unitPrice;const updated=charges.map(c=>c.id===editDraft.id?_objectSpread(_objectSpread({},c),{},{description:desc,quantity:qty,unitCost,unitPrice,amountCached,category:c.kind==='expense'?editDraft.category||'other':undefined}):c);updateAppData({charges:updated});cancelEdit();};const parseBulk=job=>{const lines=bulkText.split(/\\r?\\n/).map(l=>l.trim()).filter(l=>l);if(!lines.length){alert('No lines to import');return;}const newOnes=[];for(const line of lines){var _appData$entries$find2,_appData$clients$2;// description,qty,cost,price,kind(optional),category(optional)\nconst parts=line.split(',').map(p=>p.trim());if(parts.length<4){continue;}let[description,qtyStr,costStr,priceStr,kindStr,catStr]=parts;const qty=parseFloat(qtyStr)||0;if(qty<=0)continue;const unitCost=parseFloat(costStr)||0;if(unitCost<0)continue;const unitPrice=parseFloat(priceStr);const finalPrice=isNaN(unitPrice)?unitCost:unitPrice;const kind=kindStr==='expense'||kindStr==='part'?kindStr:'part';const category=kind==='expense'?catStr||'other':undefined;const amountCached=qty*finalPrice;const inferredClientId=((_appData$entries$find2=appData.entries.find(e=>e.jobId===job.id))===null||_appData$entries$find2===void 0?void 0:_appData$entries$find2.clientId)||chargeForm.clientId||((_appData$clients$2=appData.clients[0])===null||_appData$clients$2===void 0?void 0:_appData$clients$2.id)||'';newOnes.push({id:dataService.generateId(),jobId:job.id,clientId:inferredClientId,kind,description,quantity:qty,unitCost,unitPrice:finalPrice,amountCached,createdAt:Date.now(),invoiced:false,category});}if(!newOnes.length){alert('No valid lines parsed');return;}updateAppData({charges:[...charges,...newOnes]});setBulkText('');setShowBulkAdd(false);};const formatCurrency=v=>dataService.formatCurrency(v);return/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"page-title\",children:\"Jobs\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-400\",children:\"Manage open jobs and invoice work per job.\"})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"card-title\",children:[\"Open Jobs (\",openJobs.length,\")\"]})}),openJobs.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{className:\"empty-state-text\",children:\"No open jobs\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"activity-list\",children:openJobs.sort((a,b)=>a.name.localeCompare(b.name)).map(job=>{const stats=jobStats[job.id]||{hours:0,amount:0};return/*#__PURE__*/_jsxs(\"div\",{className:\"individual-job-card\",style:{marginBottom:0},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"job-card-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"job-main-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"job-title\",children:job.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-time\",children:[stats.hours.toFixed(2),\"h \\u2022 \",dataService.formatCurrency(stats.amount)]}),job.closed&&/*#__PURE__*/_jsx(\"div\",{className:\"job-status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-overdue\",children:\"Closed\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-actions\",children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",className:\"btn-wide\",onClick:()=>onInvoiceJob(job.id),title:\"Invoice job\",\"aria-label\":\"Generate invoice for job \".concat(job.name),children:\"Invoice\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",className:\"btn-wide\",onClick:()=>closeJob(job),title:\"Close job\",\"aria-label\":\"Close job \".concat(job.name),children:\"Close\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",className:\"btn-wide\",onClick:()=>setExpandedChargesJobId(expandedChargesJobId===job.id?null:job.id),\"aria-label\":\"Toggle charges for job \".concat(job.name),children:expandedChargesJobId===job.id?'Hide Charges':'Charges'})]})]}),expandedChargesJobId===job.id&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 p-2 rounded bg-gray-50 border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-xs font-semibold mb-1\",children:\"Charges\"}),!appData.entries.some(e=>e.jobId===job.id)&&(appData.clients||[]).length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-1\",children:/*#__PURE__*/_jsxs(\"select\",{className:\"border rounded px-1 py-0.5 text-[11px] w-full\",value:chargeForm.clientId||'',onChange:e=>setChargeForm(f=>_objectSpread(_objectSpread({},f),{},{clientId:e.target.value})),\"aria-label\":\"Charge client\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Client --\"}),(appData.clients||[]).map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.id,children:c.name},c.id))]})}),chargesForJob(job.id).length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mb-2\",children:\"No charges\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 mb-2\",children:[chargesForJob(job.id).map(ch=>{const isEditing=ch.id===editingChargeId;const margin=ch.unitPrice>0?(ch.unitPrice-ch.unitCost)/ch.unitPrice*100:0;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded px-2 py-1 border border-gray-200 text-[11px]\",children:isEditing?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-12 gap-1 items-center\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"col-span-3 border rounded px-1 py-0.5\",value:editDraft.description,onChange:e=>setEditDraft(d=>_objectSpread(_objectSpread({},d),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"col-span-1 border rounded px-1 py-0.5\",type:\"number\",value:editDraft.quantity,onChange:e=>setEditDraft(d=>_objectSpread(_objectSpread({},d),{},{quantity:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"col-span-1 border rounded px-1 py-0.5\",type:\"number\",value:editDraft.unitCost,onChange:e=>setEditDraft(d=>_objectSpread(_objectSpread({},d),{},{unitCost:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"col-span-1 border rounded px-1 py-0.5\",type:\"number\",value:editDraft.unitPrice,onChange:e=>setEditDraft(d=>_objectSpread(_objectSpread({},d),{},{unitPrice:e.target.value}))}),ch.kind==='expense'&&/*#__PURE__*/_jsxs(\"select\",{className:\"col-span-2 border rounded px-1 py-0.5\",value:editDraft.category,onChange:e=>setEditDraft(d=>_objectSpread(_objectSpread({},d),{},{category:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"(cat)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shipping\",children:\"Shipping\"}),/*#__PURE__*/_jsx(\"option\",{value:\"disposal\",children:\"Disposal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diagnostic\",children:\"Diagnostic\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-span-1 text-right font-medium\",children:formatCurrency((parseFloat(editDraft.quantity)||0)*(parseFloat(editDraft.unitPrice)||0))}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-2 flex gap-1 justify-end\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-green-600 text-xs font-semibold\",onClick:saveEdit,\"aria-label\":\"Save charge edit\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-gray-500 text-xs\",onClick:cancelEdit,\"aria-label\":\"Cancel edit\",children:\"Cancel\"})]})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"truncate\",title:ch.description,children:[ch.kind==='part'?'ðŸ§©':'ðŸ§¾',\" \",ch.description,\" (\",ch.quantity,\" x \",dataService.formatCurrency(ch.unitPrice),\")\",ch.kind==='expense'&&ch.category?\" \\u2022 \".concat(ch.category):'',/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1 text-[10px] text-gray-400\",children:[margin.toFixed(0),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:dataService.formatCurrency(ch.amountCached)}),!ch.invoiced&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-blue-600 text-xs underline\",onClick:()=>beginEdit(ch),\"aria-label\":\"Edit charge\",children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-red-500 text-xs underline\",onClick:()=>deleteCharge(ch.id),\"aria-label\":\"Delete charge\",children:\"Delete\"})]})]})]})},ch.id);}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-[11px] font-semibold border-t pt-1 mt-1\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Charges Total\"}),/*#__PURE__*/_jsx(\"span\",{children:formatCurrency(chargesForJob(job.id).reduce((s,c)=>s+c.amountCached,0))})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:!showBulkAdd?/*#__PURE__*/_jsx(\"button\",{className:\"text-[10px] text-blue-600 underline\",onClick:()=>setShowBulkAdd(true),\"aria-label\":\"Show bulk add charges\",children:\"Bulk Add CSV\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full border rounded p-1 text-[10px] h-16 mb-1\",placeholder:\"description,qty,cost,price,kind(optional),category(optional)\",value:bulkText,onChange:e=>setBulkText(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"text-[10px] bg-blue-600 text-white px-2 py-0.5 rounded\",onClick:()=>parseBulk(job),\"aria-label\":\"Import bulk charges\",children:\"Import\"}),/*#__PURE__*/_jsx(\"button\",{className:\"text-[10px] text-gray-600 underline\",onClick:()=>{setShowBulkAdd(false);setBulkText('');},\"aria-label\":\"Cancel bulk add\",children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-5 gap-1 mb-2\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"border rounded px-1 py-0.5 text-[11px] col-span-1\",value:chargeForm.kind,onChange:e=>setChargeForm(f=>_objectSpread(_objectSpread({},f),{},{kind:e.target.value})),\"aria-label\":\"Charge kind\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"part\",children:\"Part\"}),/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"Expense\"})]}),/*#__PURE__*/_jsx(\"input\",{className:\"border rounded px-1 py-0.5 text-[11px] col-span-2\",placeholder:\"Description\",value:chargeForm.description,onChange:e=>setChargeForm(f=>_objectSpread(_objectSpread({},f),{},{description:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"border rounded px-1 py-0.5 text-[11px]\",placeholder:\"Qty\",type:\"number\",min:\"0.01\",step:\"0.01\",value:chargeForm.quantity,onChange:e=>setChargeForm(f=>_objectSpread(_objectSpread({},f),{},{quantity:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"border rounded px-1 py-0.5 text-[11px]\",placeholder:\"Cost\",type:\"number\",min:\"0\",step:\"0.01\",value:chargeForm.unitCost,onChange:e=>setChargeForm(f=>_objectSpread(_objectSpread({},f),{},{unitCost:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{className:\"border rounded px-1 py-0.5 text-[11px] col-span-2\",placeholder:\"Price\",type:\"number\",min:\"0\",step:\"0.01\",value:chargeForm.unitPrice,onChange:e=>setChargeForm(f=>_objectSpread(_objectSpread({},f),{},{unitPrice:e.target.value}))}),chargeForm.kind==='expense'&&/*#__PURE__*/_jsxs(\"select\",{className:\"border rounded px-1 py-0.5 text-[11px] col-span-1\",value:chargeForm.category,onChange:e=>setChargeForm(f=>_objectSpread(_objectSpread({},f),{},{category:e.target.value})),\"aria-label\":\"Expense category\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Cat\"}),/*#__PURE__*/_jsx(\"option\",{value:\"shipping\",children:\"Ship\"}),/*#__PURE__*/_jsx(\"option\",{value:\"disposal\",children:\"Disp\"}),/*#__PURE__*/_jsx(\"option\",{value:\"diagnostic\",children:\"Diag\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-blue-600 hover:bg-blue-700 text-white rounded px-2 py-0.5 text-[11px] col-span-1\",type:\"button\",onClick:()=>addCharge(job),title:\"Add charge\",children:\"Add\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-[10px] text-gray-400\",children:\"Leave Price empty to use Cost. Amount auto-calculated.\"})]})]},job.id);})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"card-title\",children:[\"Closed Jobs (\",closedJobs.length,\")\"]})}),closedJobs.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"empty-state\",children:/*#__PURE__*/_jsx(\"p\",{className:\"empty-state-text\",children:\"No closed jobs\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"activity-list\",children:closedJobs.sort((a,b)=>b.closedAt-a.closedAt).map(job=>{const stats=jobStats[job.id]||{hours:0,amount:0};return/*#__PURE__*/_jsx(\"div\",{className:\"individual-job-card opacity-70\",style:{marginBottom:0},children:/*#__PURE__*/_jsxs(\"div\",{className:\"job-card-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"job-main-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"job-title\",children:job.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-time\",children:[stats.hours.toFixed(2),\"h \\u2022 \",dataService.formatCurrency(stats.amount)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-client text-xs text-gray-400\",children:[\"Closed \",job.closedAt?new Date(job.closedAt).toLocaleDateString():'']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-actions\",children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",className:\"btn-wide\",onClick:()=>reopenJob(job),title:\"Re-open job\",\"aria-label\":\"Re-open job \".concat(job.name),children:\"Re-open\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",className:\"btn-wide\",onClick:()=>onInvoiceJob(job.id),title:\"Invoice again\",\"aria-label\":\"Generate another invoice for job \".concat(job.name),children:\"Invoice\"})]})]})},job.id);})})]})]});};export default JobsTab;","map":{"version":3,"names":["React","useMemo","useEffect","useState","Card","Button","dataService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","JobsTab","_ref","appData","updateAppData","onNavigate","onInvoiceJob","jobs","charges","expandedChargesJobId","setExpandedChargesJobId","chargeForm","setChargeForm","kind","description","quantity","unitCost","unitPrice","clientId","category","editingChargeId","setEditingChargeId","editDraft","setEditDraft","showBulkAdd","setShowBulkAdd","bulkText","setBulkText","entries","currentJobs","missingJobEntries","filter","e","taskName","jobId","find","j","id","length","additions","updates","forEach","name","trim","job","toLowerCase","generateId","closed","createdAt","Date","now","push","entryId","updatedJobs","updatedEntries","map","upd","u","_objectSpread","openJobs","closedJobs","jobStats","hours","amount","end","client","clients","c","durationToHours","start","rate","closeJob","window","confirm","concat","closedAt","reopenJob","chargesForJob","addCharge","_appData$entries$find","_appData$clients$","desc","alert","qty","parseFloat","amountCached","inferredClientId","newCharge","undefined","invoiced","deleteCharge","chargeId","beginEdit","charge","String","cancelEdit","saveEdit","updated","parseBulk","lines","split","l","newOnes","line","_appData$entries$find2","_appData$clients$2","parts","p","qtyStr","costStr","priceStr","kindStr","catStr","finalPrice","isNaN","formatCurrency","v","className","children","sort","a","b","localeCompare","stats","style","marginBottom","toFixed","size","variant","onClick","title","some","value","onChange","f","target","ch","isEditing","margin","d","type","reduce","s","placeholder","min","step","toLocaleDateString"],"sources":["C:/Users/jurgl/HTMLProjects/CrickTime/src/components/tabs/JobsTab.js"],"sourcesContent":["import React, { useMemo, useEffect, useState } from 'react';\r\nimport Card from '../ui/Card';\r\nimport Button from '../ui/Button';\r\nimport { dataService } from '../../utils/dataService';\r\n\r\n/**\r\n * Jobs Tab\r\n * Shows open & closed jobs with ability to close and invoice.\r\n */\r\nconst JobsTab = ({ appData, updateAppData, onNavigate, onInvoiceJob }) => {\r\n  const jobs = appData.jobs || [];\r\n  const charges = appData.charges || [];\r\n  const [expandedChargesJobId, setExpandedChargesJobId] = useState(null);\r\n  const [chargeForm, setChargeForm] = useState({ kind:'part', description:'', quantity:'1', unitCost:'', unitPrice:'', clientId:'', category:'' });\r\n  const [editingChargeId, setEditingChargeId] = useState(null);\r\n  const [editDraft, setEditDraft] = useState(null); // { id, description, quantity, unitCost, unitPrice, category }\r\n  const [showBulkAdd, setShowBulkAdd] = useState(false);\r\n  const [bulkText, setBulkText] = useState('');\r\n  useEffect(() => {\r\n    const entries = appData.entries || [];\r\n    const currentJobs = appData.jobs || [];\r\n    const missingJobEntries = entries.filter(e => e.taskName && (!e.jobId || !currentJobs.find(j => j.id === e.jobId)));\r\n    if (!missingJobEntries.length) return;\r\n    const additions = [];\r\n    const updates = [];\r\n    missingJobEntries.forEach(e => {\r\n      const name = e.taskName.trim();\r\n      let job = currentJobs.find(j => j.name.toLowerCase() === name.toLowerCase());\r\n      if (!job) {\r\n        job = { id: dataService.generateId(), name, closed: false, createdAt: Date.now() };\r\n        additions.push(job);\r\n      }\r\n      if (!e.jobId) updates.push({ entryId: e.id, jobId: job.id });\r\n    });\r\n    if (additions.length || updates.length) {\r\n      const updatedJobs = [...currentJobs, ...additions];\r\n      const updatedEntries = entries.map(e => {\r\n        const upd = updates.find(u => u.entryId === e.id);\r\n        return upd ? { ...e, jobId: upd.jobId } : e;\r\n      });\r\n      updateAppData({ jobs: updatedJobs, entries: updatedEntries });\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Legacy auto-derivation removed.\r\n\r\n  const openJobs = jobs.filter(j => !j.closed);\r\n  const closedJobs = jobs.filter(j => j.closed);\r\n\r\n  // Aggregate metrics for jobs\r\n  const jobStats = useMemo(() => {\r\n    const map = {};\r\n    (appData.entries || []).forEach(e => {\r\n      const jobId = e.jobId;\r\n      if (!jobId) return;\r\n      if (!map[jobId]) map[jobId] = { hours: 0, amount: 0 };\r\n      if (e.end) {\r\n        const client = appData.clients.find(c => c.id === e.clientId);\r\n        const hours = dataService.durationToHours(e.end - e.start);\r\n        map[jobId].hours += hours;\r\n        map[jobId].amount += client ? hours * client.rate : 0;\r\n      }\r\n    });\r\n    return map;\r\n  }, [appData.entries, appData.clients]);\r\n\r\n  const closeJob = (job) => {\r\n    if (!window.confirm(`Close job \"${job.name}\"? It will be hidden from selection.`)) return;\r\n    updateAppData({ jobs: jobs.map(j => j.id === job.id ? { ...j, closed: true, closedAt: Date.now() } : j) });\r\n  };\r\n\r\n  const reopenJob = (job) => {\r\n    updateAppData({ jobs: jobs.map(j => j.id === job.id ? { ...j, closed: false, closedAt: null } : j) });\r\n  };\r\n\r\n  // ---- Charges Helpers (Phase 1 Parts & Expenses) ----\r\n  const chargesForJob = (jobId) => charges.filter(c => c.jobId === jobId);\r\n\r\n  const addCharge = (job) => {\r\n    const desc = chargeForm.description.trim();\r\n    if (!desc) { alert('Description required'); return; }\r\n    const qty = parseFloat(chargeForm.quantity)||0; if (qty<=0){ alert('Quantity must be > 0'); return; }\r\n    const unitCost = parseFloat(chargeForm.unitCost)||0; if (unitCost<0){ alert('Unit cost >= 0'); return; }\r\n    const unitPrice = chargeForm.unitPrice ? parseFloat(chargeForm.unitPrice) : unitCost;\r\n    if (unitPrice < 0) { alert('Unit price >= 0'); return; }\r\n    const amountCached = qty * unitPrice;\r\n    // Determine client: prefer explicit selection on form if present\r\n    const inferredClientId = (appData.entries.find(e=>e.jobId===job.id)?.clientId) || chargeForm.clientId || (appData.clients[0]?.id)||'';\r\n    if (!inferredClientId) { alert('Select a client for this charge.'); return; }\r\n    const newCharge = {\r\n      id: dataService.generateId(),\r\n      jobId: job.id,\r\n      clientId: inferredClientId,\r\n      kind: chargeForm.kind,\r\n      description: desc,\r\n      quantity: qty,\r\n      unitCost,\r\n      unitPrice,\r\n  category: chargeForm.kind === 'expense' ? (chargeForm.category || 'other') : undefined,\r\n      amountCached,\r\n      createdAt: Date.now(),\r\n      invoiced: false\r\n    };\r\n    updateAppData({ charges: [...charges, newCharge] });\r\n    setChargeForm({ kind:'part', description:'', quantity:'1', unitCost:'', unitPrice:'', clientId: chargeForm.clientId||'' });\r\n  };\r\n\r\n  const deleteCharge = (chargeId) => {\r\n    if (!window.confirm('Delete this charge?')) return;\r\n    updateAppData({ charges: charges.filter(c => c.id !== chargeId) });\r\n  };\r\n  const beginEdit = (charge) => {\r\n    if (charge.invoiced) return;\r\n    setEditingChargeId(charge.id);\r\n    setEditDraft({ ...charge, quantity: String(charge.quantity), unitCost: String(charge.unitCost), unitPrice: String(charge.unitPrice), description: charge.description, category: charge.category || '' });\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditingChargeId(null);\r\n    setEditDraft(null);\r\n  };\r\n\r\n  const saveEdit = () => {\r\n    if (!editDraft) return;\r\n    const desc = editDraft.description.trim(); if (!desc) { alert('Description required'); return; }\r\n    const qty = parseFloat(editDraft.quantity)||0; if (qty<=0){ alert('Qty > 0'); return; }\r\n    const unitCost = parseFloat(editDraft.unitCost)||0; if (unitCost<0){ alert('Cost >=0'); return; }\r\n    const unitPrice = parseFloat(editDraft.unitPrice)||0; if (unitPrice<0){ alert('Price >=0'); return; }\r\n    const amountCached = qty * unitPrice;\r\n    const updated = charges.map(c => c.id === editDraft.id ? { ...c, description: desc, quantity: qty, unitCost, unitPrice, amountCached, category: c.kind==='expense' ? (editDraft.category||'other') : undefined } : c);\r\n    updateAppData({ charges: updated });\r\n    cancelEdit();\r\n  };\r\n\r\n  const parseBulk = (job) => {\r\n    const lines = bulkText.split(/\\r?\\n/).map(l=>l.trim()).filter(l=>l);\r\n    if (!lines.length) { alert('No lines to import'); return; }\r\n    const newOnes = [];\r\n    for (const line of lines) {\r\n      // description,qty,cost,price,kind(optional),category(optional)\r\n      const parts = line.split(',').map(p=>p.trim());\r\n      if (parts.length < 4) { continue; }\r\n      let [description, qtyStr, costStr, priceStr, kindStr, catStr] = parts;\r\n      const qty = parseFloat(qtyStr)||0; if (qty<=0) continue;\r\n      const unitCost = parseFloat(costStr)||0; if (unitCost<0) continue;\r\n      const unitPrice = parseFloat(priceStr); const finalPrice = isNaN(unitPrice)?unitCost:unitPrice;\r\n      const kind = (kindStr==='expense' || kindStr==='part') ? kindStr : 'part';\r\n      const category = kind==='expense' ? (catStr || 'other') : undefined;\r\n      const amountCached = qty * finalPrice;\r\n      const inferredClientId = (appData.entries.find(e=>e.jobId===job.id)?.clientId) || chargeForm.clientId || (appData.clients[0]?.id)||'';\r\n      newOnes.push({ id: dataService.generateId(), jobId: job.id, clientId: inferredClientId, kind, description, quantity: qty, unitCost, unitPrice: finalPrice, amountCached, createdAt: Date.now(), invoiced: false, category });\r\n    }\r\n    if (!newOnes.length) { alert('No valid lines parsed'); return; }\r\n    updateAppData({ charges: [...charges, ...newOnes] });\r\n    setBulkText('');\r\n    setShowBulkAdd(false);\r\n  };\r\n\r\n  const formatCurrency = (v) => dataService.formatCurrency(v);\r\n\r\n\r\n  return (\r\n    <div className=\"tab-content\">\r\n      <Card>\r\n        <h2 className=\"page-title\">Jobs</h2>\r\n        <p className=\"text-xs text-gray-400\">Manage open jobs and invoice work per job.</p>\r\n      </Card>\r\n\r\n      <Card>\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">Open Jobs ({openJobs.length})</h3>\r\n        </div>\r\n        {openJobs.length === 0 ? (\r\n          <div className=\"empty-state\"><p className=\"empty-state-text\">No open jobs</p></div>\r\n        ) : (\r\n          <div className=\"activity-list\">\r\n            {openJobs.sort((a,b)=>a.name.localeCompare(b.name)).map(job => {\r\n              const stats = jobStats[job.id] || { hours:0, amount:0 };\r\n              return (\r\n                <div key={job.id} className=\"individual-job-card\" style={{marginBottom:0}}>\r\n                  <div className=\"job-card-content\">\r\n                    <div className=\"job-main-info\">\r\n                      <div className=\"job-title\">{job.name}</div>\r\n                      <div className=\"job-time\">{stats.hours.toFixed(2)}h â€¢ {dataService.formatCurrency(stats.amount)}</div>\r\n                      {job.closed && <div className=\"job-status\"><span className=\"status-overdue\">Closed</span></div>}\r\n                    </div>\r\n                    <div className=\"job-actions\">\r\n                      <Button size=\"small\" variant=\"primary\" className=\"btn-wide\" onClick={() => onInvoiceJob(job.id)} title=\"Invoice job\" aria-label={`Generate invoice for job ${job.name}`}>Invoice</Button>\r\n                      <Button size=\"small\" variant=\"secondary\" className=\"btn-wide\" onClick={() => closeJob(job)} title=\"Close job\" aria-label={`Close job ${job.name}`}>Close</Button>\r\n                      <Button size=\"small\" variant=\"secondary\" className=\"btn-wide\" onClick={() => setExpandedChargesJobId(expandedChargesJobId===job.id?null:job.id)} aria-label={`Toggle charges for job ${job.name}`}>{expandedChargesJobId===job.id ? 'Hide Charges' : 'Charges'}</Button>\r\n                    </div>\r\n                  </div>\r\n                  {expandedChargesJobId === job.id && (\r\n                    <div className=\"mt-2 p-2 rounded bg-gray-50 border border-gray-200\">\r\n                      <div className=\"text-xs font-semibold mb-1\">Charges</div>\r\n                                        {/* Client selector if multiple clients or no inferred client */}\r\n                                        {(!appData.entries.some(e=>e.jobId===job.id) && (appData.clients||[]).length > 1) && (\r\n                                          <div className=\"mb-1\">\r\n                                            <select\r\n                                              className=\"border rounded px-1 py-0.5 text-[11px] w-full\"\r\n                                              value={chargeForm.clientId || ''}\r\n                                              onChange={e=>setChargeForm(f=>({...f, clientId: e.target.value}))}\r\n                                              aria-label=\"Charge client\"\r\n                                            >\r\n                                              <option value=\"\">-- Select Client --</option>\r\n                                              {(appData.clients||[]).map(c=> <option key={c.id} value={c.id}>{c.name}</option>)}\r\n                                            </select>\r\n                                          </div>\r\n                                        )}\r\n                      {chargesForJob(job.id).length === 0 ? (\r\n                        <div className=\"text-xs text-gray-500 mb-2\">No charges</div>\r\n                      ) : (\r\n                        <div className=\"space-y-1 mb-2\">\r\n                          {chargesForJob(job.id).map(ch => {\r\n                            const isEditing = ch.id === editingChargeId;\r\n                            const margin = ch.unitPrice > 0 ? ((ch.unitPrice - ch.unitCost)/ch.unitPrice)*100 : 0;\r\n                            return (\r\n                              <div key={ch.id} className=\"bg-white rounded px-2 py-1 border border-gray-200 text-[11px]\">\r\n                                {isEditing ? (\r\n                                  <div className=\"grid grid-cols-12 gap-1 items-center\">\r\n                                    <input className=\"col-span-3 border rounded px-1 py-0.5\" value={editDraft.description} onChange={e=>setEditDraft(d=>({...d, description:e.target.value}))} />\r\n                                    <input className=\"col-span-1 border rounded px-1 py-0.5\" type=\"number\" value={editDraft.quantity} onChange={e=>setEditDraft(d=>({...d, quantity:e.target.value}))} />\r\n                                    <input className=\"col-span-1 border rounded px-1 py-0.5\" type=\"number\" value={editDraft.unitCost} onChange={e=>setEditDraft(d=>({...d, unitCost:e.target.value}))} />\r\n                                    <input className=\"col-span-1 border rounded px-1 py-0.5\" type=\"number\" value={editDraft.unitPrice} onChange={e=>setEditDraft(d=>({...d, unitPrice:e.target.value}))} />\r\n                                    {ch.kind==='expense' && (\r\n                                      <select className=\"col-span-2 border rounded px-1 py-0.5\" value={editDraft.category} onChange={e=>setEditDraft(d=>({...d, category:e.target.value}))}>\r\n                                        <option value=\"\">(cat)</option>\r\n                                        <option value=\"shipping\">Shipping</option>\r\n                                        <option value=\"disposal\">Disposal</option>\r\n                                        <option value=\"diagnostic\">Diagnostic</option>\r\n                                        <option value=\"other\">Other</option>\r\n                                      </select>\r\n                                    )}\r\n                                    <div className=\"col-span-1 text-right font-medium\">{formatCurrency((parseFloat(editDraft.quantity)||0)*(parseFloat(editDraft.unitPrice)||0))}</div>\r\n                                    <div className=\"col-span-2 flex gap-1 justify-end\">\r\n                                      <button className=\"text-green-600 text-xs font-semibold\" onClick={saveEdit} aria-label=\"Save charge edit\">Save</button>\r\n                                      <button className=\"text-gray-500 text-xs\" onClick={cancelEdit} aria-label=\"Cancel edit\">Cancel</button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"truncate\" title={ch.description}>\r\n                                      {ch.kind === 'part' ? 'ðŸ§©' : 'ðŸ§¾'} {ch.description} ({ch.quantity} x {dataService.formatCurrency(ch.unitPrice)}){ch.kind==='expense' && ch.category ? ` â€¢ ${ch.category}`:''}\r\n                                      <span className=\"ml-1 text-[10px] text-gray-400\">{margin.toFixed(0)}%</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                      <span className=\"font-medium\">{dataService.formatCurrency(ch.amountCached)}</span>\r\n                                      {!ch.invoiced && <>\r\n                                        <button className=\"text-blue-600 text-xs underline\" onClick={()=>beginEdit(ch)} aria-label=\"Edit charge\">Edit</button>\r\n                                        <button className=\"text-red-500 text-xs underline\" onClick={()=>deleteCharge(ch.id)} aria-label=\"Delete charge\">Delete</button>\r\n                                      </>}\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            );\r\n                          })}\r\n                          {/* Per-job totals */}\r\n                          <div className=\"flex justify-between text-[11px] font-semibold border-t pt-1 mt-1\">\r\n                            <span>Charges Total</span>\r\n                            <span>{formatCurrency(chargesForJob(job.id).reduce((s,c)=>s+c.amountCached,0))}</span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {/* Bulk Add Toggle */}\r\n                      <div className=\"mb-2\">\r\n                        {!showBulkAdd ? (\r\n                          <button className=\"text-[10px] text-blue-600 underline\" onClick={()=>setShowBulkAdd(true)} aria-label=\"Show bulk add charges\">Bulk Add CSV</button>\r\n                        ) : (\r\n                          <div className=\"mb-2\">\r\n                            <textarea className=\"w-full border rounded p-1 text-[10px] h-16 mb-1\" placeholder=\"description,qty,cost,price,kind(optional),category(optional)\" value={bulkText} onChange={e=>setBulkText(e.target.value)} />\r\n                            <div className=\"flex gap-2\">\r\n                              <button className=\"text-[10px] bg-blue-600 text-white px-2 py-0.5 rounded\" onClick={()=>parseBulk(job)} aria-label=\"Import bulk charges\">Import</button>\r\n                              <button className=\"text-[10px] text-gray-600 underline\" onClick={()=>{setShowBulkAdd(false); setBulkText('');}} aria-label=\"Cancel bulk add\">Cancel</button>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"grid grid-cols-5 gap-1 mb-2\">\r\n                        <select className=\"border rounded px-1 py-0.5 text-[11px] col-span-1\" value={chargeForm.kind} onChange={e=>setChargeForm(f=>({...f, kind:e.target.value}))} aria-label=\"Charge kind\">\r\n                          <option value=\"part\">Part</option>\r\n                          <option value=\"expense\">Expense</option>\r\n                        </select>\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px] col-span-2\" placeholder=\"Description\" value={chargeForm.description} onChange={e=>setChargeForm(f=>({...f, description:e.target.value}))} />\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px]\" placeholder=\"Qty\" type=\"number\" min=\"0.01\" step=\"0.01\" value={chargeForm.quantity} onChange={e=>setChargeForm(f=>({...f, quantity:e.target.value}))} />\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px]\" placeholder=\"Cost\" type=\"number\" min=\"0\" step=\"0.01\" value={chargeForm.unitCost} onChange={e=>setChargeForm(f=>({...f, unitCost:e.target.value}))} />\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px] col-span-2\" placeholder=\"Price\" type=\"number\" min=\"0\" step=\"0.01\" value={chargeForm.unitPrice} onChange={e=>setChargeForm(f=>({...f, unitPrice:e.target.value}))} />\r\n                        {chargeForm.kind==='expense' && (\r\n                          <select className=\"border rounded px-1 py-0.5 text-[11px] col-span-1\" value={chargeForm.category} onChange={e=>setChargeForm(f=>({...f, category:e.target.value}))} aria-label=\"Expense category\">\r\n                            <option value=\"\">Cat</option>\r\n                            <option value=\"shipping\">Ship</option>\r\n                            <option value=\"disposal\">Disp</option>\r\n                            <option value=\"diagnostic\">Diag</option>\r\n                            <option value=\"other\">Other</option>\r\n                          </select>\r\n                        )}\r\n                        <button className=\"bg-blue-600 hover:bg-blue-700 text-white rounded px-2 py-0.5 text-[11px] col-span-1\" type=\"button\" onClick={()=>addCharge(job)} title=\"Add charge\">Add</button>\r\n                      </div>\r\n                      <div className=\"text-[10px] text-gray-400\">Leave Price empty to use Cost. Amount auto-calculated.</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      <Card>\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">Closed Jobs ({closedJobs.length})</h3>\r\n        </div>\r\n        {closedJobs.length === 0 ? (\r\n          <div className=\"empty-state\"><p className=\"empty-state-text\">No closed jobs</p></div>\r\n        ) : (\r\n          <div className=\"activity-list\">\r\n            {closedJobs.sort((a,b)=>b.closedAt - a.closedAt).map(job => {\r\n              const stats = jobStats[job.id] || { hours:0, amount:0 };\r\n              return (\r\n                <div key={job.id} className=\"individual-job-card opacity-70\" style={{marginBottom:0}}>\r\n                  <div className=\"job-card-content\">\r\n                    <div className=\"job-main-info\">\r\n                      <div className=\"job-title\">{job.name}</div>\r\n                      <div className=\"job-time\">{stats.hours.toFixed(2)}h â€¢ {dataService.formatCurrency(stats.amount)}</div>\r\n                      <div className=\"job-client text-xs text-gray-400\">Closed {job.closedAt ? new Date(job.closedAt).toLocaleDateString() : ''}</div>\r\n                    </div>\r\n                    <div className=\"job-actions\">\r\n                      <Button size=\"small\" variant=\"secondary\" className=\"btn-wide\" onClick={() => reopenJob(job)} title=\"Re-open job\" aria-label={`Re-open job ${job.name}`}>Re-open</Button>\r\n                      <Button size=\"small\" variant=\"primary\" className=\"btn-wide\" onClick={() => onInvoiceJob(job.id)} title=\"Invoice again\" aria-label={`Generate another invoice for job ${job.name}`}>Invoice</Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobsTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}