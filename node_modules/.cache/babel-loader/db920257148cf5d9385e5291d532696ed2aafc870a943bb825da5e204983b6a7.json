{"ast":null,"code":"import _objectSpread from\"C:/Users/jurgl/HTMLProjects/CrickTime/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import Card from'../ui/Card';import Button from'../ui/Button';import Input from'../ui/Input';import Select from'../ui/Select';import{dataService}from'../../utils/dataService';/**\r\n * Schedule Tab Component\r\n * Allows creating and managing scheduled jobs with calendar view\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ScheduleTab=_ref=>{let{appData,updateAppData,onNavigate}=_ref;const[showAddForm,setShowAddForm]=useState(false);const[formData,setFormData]=useState({clientId:'',jobId:'',taskName:'',scheduledDate:'',scheduledTime:'',estimatedHours:'',notes:''});// Explicit opt-in for scheduling past dates (Issue 7 remediation)\nconst[allowPastDate,setAllowPastDate]=useState(false);// Get current date for calendar\nconst now=new Date();const currentYear=now.getFullYear();const currentMonth=now.getMonth();// Calendar navigation state\nconst[viewDate,setViewDate]=useState(new Date(currentYear,currentMonth,1));// Handle form input changes\nconst handleInputChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};// Add new scheduled job\nconst handleAddScheduledJob=()=>{if(!formData.clientId||!formData.jobId&&!formData.taskName.trim()||!formData.scheduledDate){alert('Please fill in client, job, and date');return;}const todayISO=now.toISOString().slice(0,10);if(!allowPastDate&&formData.scheduledDate<todayISO){alert('Past date selected. Enable \"Allow past date scheduling\" to proceed.');return;}// Resolve / create job\nlet jobId=formData.jobId;let resolvedName=formData.taskName.trim();const jobs=appData.jobs||[];if(!jobId){const existing=jobs.find(j=>!j.closed&&j.name.toLowerCase()===resolvedName.toLowerCase());if(existing)jobId=existing.id;else{const newJob={id:dataService.generateId(),name:resolvedName,closed:false,createdAt:Date.now()};updateAppData({jobs:[...jobs,newJob]});jobId=newJob.id;}}else{const jobObj=jobs.find(j=>j.id===jobId);if(jobObj)resolvedName=jobObj.name;}const newJob={id:dataService.generateId(),clientId:formData.clientId,taskName:resolvedName,jobId,scheduledDate:formData.scheduledDate,scheduledTime:formData.scheduledTime||'09:00',estimatedHours:parseFloat(formData.estimatedHours)||1,notes:formData.notes,createdAt:Date.now(),completed:false};updateAppData({scheduledJobs:[...(appData.scheduledJobs||[]),newJob]});// Reset form\nsetFormData({clientId:'',jobId:'',taskName:'',scheduledDate:'',scheduledTime:'',estimatedHours:'',notes:''});setShowAddForm(false);};// Delete scheduled job\nconst deleteScheduledJob=jobId=>{if(window.confirm('Are you sure you want to delete this scheduled job?')){updateAppData({scheduledJobs:appData.scheduledJobs.filter(job=>job.id!==jobId)});}};// Complete scheduled job (mark as done without starting timer)\nconst completeScheduledJob=jobId=>{updateAppData({scheduledJobs:appData.scheduledJobs.map(job=>job.id===jobId?_objectSpread(_objectSpread({},job),{},{completed:true}):job)});};// Get calendar data\nconst getCalendarDays=()=>{const year=viewDate.getFullYear();const month=viewDate.getMonth();const firstDay=new Date(year,month,1);const startDate=new Date(firstDay);startDate.setDate(startDate.getDate()-firstDay.getDay());// Start from Sunday\nconst days=[];const currentDate=new Date(startDate);// Generate 42 days (6 weeks) for calendar grid\nfor(let i=0;i<42;i++){const dateString=\"\".concat(currentDate.getFullYear(),\"-\").concat(String(currentDate.getMonth()+1).padStart(2,'0'),\"-\").concat(String(currentDate.getDate()).padStart(2,'0'));const jobsForDay=(appData.scheduledJobs||[]).filter(job=>job.scheduledDate===dateString&&!job.completed);days.push({date:new Date(currentDate),dateString,isCurrentMonth:currentDate.getMonth()===month,isToday:currentDate.toDateString()===now.toDateString(),jobs:jobsForDay});currentDate.setDate(currentDate.getDate()+1);}return days;};// Navigate calendar months\nconst navigateMonth=direction=>{const newDate=new Date(viewDate);newDate.setMonth(viewDate.getMonth()+direction);setViewDate(newDate);};// Format today's date for default input (not used currently)\n// const todayString = now.toISOString().split('T')[0];\nconst calendarDays=getCalendarDays();const monthNames=['January','February','March','April','May','June','July','August','September','October','November','December'];// Modal state for day details\nconst[modalDay,setModalDay]=useState(null);// { dateString, jobs: [] }\nconst startJobFromSchedule=job=>{if(appData.active){alert('A timer is already running. Stop it before starting a new job.');return;}// Create a new active entry based on scheduled job\nconst newEntry={id:dataService.generateId(),clientId:job.clientId,taskName:job.taskName,jobId:job.jobId,start:Date.now(),end:null,notes:job.notes||'',scheduledJobId:job.id};const updatedScheduled=(appData.scheduledJobs||[]).map(j=>j.id===job.id?_objectSpread(_objectSpread({},j),{},{completed:true,startedAt:Date.now()}):j);updateAppData({entries:[...appData.entries,newEntry],active:{entryId:newEntry.id},scheduledJobs:updatedScheduled});setModalDay(null);onNavigate&&onNavigate('timer');};const closeModal=()=>setModalDay(null);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-200\",children:\"Schedule\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>setShowAddForm(true),children:\"+ Schedule Job\"})]})}),showAddForm&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-4 text-gray-200\",children:\"Schedule New Job\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Select,{label:\"Client *\",value:formData.clientId,onChange:e=>handleInputChange('clientId',e.target.value),options:[{value:'',label:'Select Client'},...appData.clients.map(client=>({value:client.id,label:client.name}))]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"Job *\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"select mb-1\",value:formData.jobId,onChange:e=>handleInputChange('jobId',e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Existing Job --\"}),(appData.jobs||[]).filter(j=>!j.closed).sort((a,b)=>a.name.localeCompare(b.name)).map(job=>/*#__PURE__*/_jsx(\"option\",{value:job.id,children:job.name},job.id))]}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",placeholder:\"Or type new job name...\",value:formData.taskName,onChange:e=>{handleInputChange('taskName',e.target.value);if(e.target.value)handleInputChange('jobId','');}}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Select existing open job or type new.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"Date *\",type:\"date\",value:formData.scheduledDate,onChange:e=>handleInputChange('scheduledDate',e.target.value)// Removed min to allow scheduling in the past for overdue badge testing per manual test plan\n}),/*#__PURE__*/_jsx(Input,{label:\"Time\",type:\"time\",value:formData.scheduledTime,onChange:e=>handleInputChange('scheduledTime',e.target.value),placeholder:\"09:00\"})]}),/*#__PURE__*/_jsx(Input,{label:\"Estimated Hours\",type:\"number\",min:\"0.25\",step:\"0.25\",value:formData.estimatedHours,onChange:e=>handleInputChange('estimatedHours',e.target.value),placeholder:\"1\"}),/*#__PURE__*/_jsx(Input,{label:\"Notes\",value:formData.notes,onChange:e=>handleInputChange('notes',e.target.value),placeholder:\"Additional details or special instructions\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-xs text-gray-400\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"allowPastDate\",type:\"checkbox\",checked:allowPastDate,onChange:()=>setAllowPastDate(v=>!v)}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"allowPastDate\",className:\"select-none\",children:\"Allow past date scheduling\"})]}),formData.scheduledDate&&!allowPastDate&&formData.scheduledDate<now.toISOString().slice(0,10)&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-amber-400\",children:\"Past date selected but not allowed yet. Check the box to enable.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsx(Button,{onClick:handleAddScheduledJob,disabled:!formData.clientId||!formData.jobId&&!formData.taskName.trim()||!formData.scheduledDate||!allowPastDate&&formData.scheduledDate<now.toISOString().slice(0,10),children:\"Schedule Job\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:()=>setShowAddForm(false),children:\"Cancel\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"small\",onClick:()=>navigateMonth(-1),children:\"\\u2039 Prev\"}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-200\",children:[monthNames[viewDate.getMonth()],\" \",viewDate.getFullYear()]}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"small\",onClick:()=>navigateMonth(1),children:\"Next \\u203A\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-1 mb-2\",children:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'].map(day=>/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-sm font-medium text-gray-400 py-2\",children:day},day))}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-7 gap-1\",children:calendarDays.map((day,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"cursor-pointer min-h-[80px] p-1 border border-gray-600 rounded transition-colors \".concat(day.isCurrentMonth?'bg-gray-800 hover:bg-gray-700':'bg-gray-900 hover:bg-gray-800',\" \").concat(day.isToday?'ring-2 ring-red-500':''),onClick:()=>{if(day.jobs.length>0)setModalDay(day);},title:day.jobs.length?\"\".concat(day.jobs.length,\" scheduled job(s)\"):'No jobs',children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm \".concat(day.isCurrentMonth?'text-gray-200':'text-gray-500'),children:day.date.getDate()}),day.jobs.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-1 mt-1\",children:[day.jobs.slice(0,2).map(job=>{const client=appData.clients.find(c=>c.id===job.clientId);return/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs p-1 rounded bg-red-600 text-white truncate\",title:\"\".concat(client===null||client===void 0?void 0:client.name,\" - \").concat(job.taskName),children:[job.scheduledTime,\" \",client===null||client===void 0?void 0:client.name]},job.id);}),day.jobs.length>2&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-400\",children:[\"+\",day.jobs.length-2,\" more\"]})]})]},index))})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold mb-3 text-gray-200\",children:\"This Week's Schedule\"}),!appData.scheduledJobs||appData.scheduledJobs.filter(job=>!job.completed).length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-4 text-gray-400\",children:\"No scheduled jobs\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:appData.scheduledJobs.filter(job=>!job.completed).sort((a,b)=>dataService.parseLocalDate(a.scheduledDate)-dataService.parseLocalDate(b.scheduledDate)).map(job=>{const client=appData.clients.find(c=>c.id===job.clientId);const jobDate=dataService.parseLocalDate(job.scheduledDate);// Date-only comparisons to avoid dual Overdue+Today badges\nconst jobDateOnly=new Date(jobDate.getFullYear(),jobDate.getMonth(),jobDate.getDate());const todayDateOnly=new Date(now.getFullYear(),now.getMonth(),now.getDate());const isToday=jobDateOnly.getTime()===todayDateOnly.getTime();const isOverdue=jobDateOnly.getTime()<todayDateOnly.getTime();const jobMeta=(appData.jobs||[]).find(j=>j.id===job.jobId);return/*#__PURE__*/_jsx(\"div\",{className:\"individual-job-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"job-card-content\",style:{alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"job-main-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"job-title\",children:jobMeta?jobMeta.name:job.taskName}),/*#__PURE__*/_jsxs(\"div\",{className:\"schedule-compact-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"job-time\",children:jobDate.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'})}),/*#__PURE__*/_jsx(\"span\",{className:\"schedule-meta-divider\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"job-time\",children:job.scheduledTime}),job.estimatedHours&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"schedule-meta-divider\",children:\"\\u2022\"}),/*#__PURE__*/_jsxs(\"span\",{children:[job.estimatedHours,\"h\"]})]}),/*#__PURE__*/_jsx(\"span\",{className:\"schedule-meta-divider\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"job-client\",children:(client===null||client===void 0?void 0:client.name)||'Unknown Client'}),(isOverdue||isToday)&&/*#__PURE__*/_jsxs(\"span\",{className:\"job-status\",children:[isOverdue&&/*#__PURE__*/_jsx(\"span\",{className:\"status-overdue\",children:\"Overdue\"}),isToday&&/*#__PURE__*/_jsx(\"span\",{className:\"status-today\",children:\"Today\"})]})]}),job.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"job-notes\",title:job.notes,children:job.notes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-actions\",children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",onClick:()=>completeScheduledJob(job.id),title:\"Mark as complete\",\"aria-label\":\"Mark scheduled job as complete\",children:\"\\u2713\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",onClick:()=>deleteScheduledJob(job.id),title:\"Delete job\",\"aria-label\":\"Delete scheduled job\",children:\"\\u2715\"})]})]})},job.id);})})]}),modalDay&&/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-2 sm:p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black/60\",onClick:closeModal}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full max-w-md bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-4 animate-fade-in-up\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-100\",children:new Date(modalDay.date).toLocaleDateString(undefined,{weekday:'long',month:'short',day:'numeric'})}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"small\",onClick:closeModal,children:\"\\u2715\"})]}),modalDay.jobs.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-400 py-4 text-center\",children:\"No jobs scheduled\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-80 overflow-y-auto pr-1\",children:modalDay.jobs.sort((a,b)=>a.scheduledTime.localeCompare(b.scheduledTime)).map(job=>{const client=appData.clients.find(c=>c.id===job.clientId);const jobMeta=(appData.jobs||[]).find(j=>j.id===job.jobId);return/*#__PURE__*/_jsx(\"div\",{className:\"individual-job-card\",style:{marginBottom:0},children:/*#__PURE__*/_jsxs(\"div\",{className:\"job-card-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"job-main-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"job-title\",children:jobMeta?jobMeta.name:job.taskName}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-time\",children:[job.scheduledTime,job.estimatedHours&&\" \\u2022 \".concat(job.estimatedHours,\"h\")]}),/*#__PURE__*/_jsx(\"div\",{className:\"job-client\",children:(client===null||client===void 0?void 0:client.name)||'Unknown Client'}),job.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"job-notes\",children:job.notes})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"job-actions\",children:[/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"primary\",onClick:()=>startJobFromSchedule(job),title:\"Start job\",\"aria-label\":\"Start job from schedule\",children:\"\\u25B6\\uFE0F\"}),/*#__PURE__*/_jsx(Button,{size:\"small\",variant:\"secondary\",onClick:()=>completeScheduledJob(job.id),title:\"Mark complete\",\"aria-label\":\"Mark scheduled job complete\",children:\"\\u2713\"})]})]})},job.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 flex justify-end\",children:/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"small\",onClick:closeModal,children:\"Close\"})})]})]})]});};export default ScheduleTab;","map":{"version":3,"names":["React","useState","Card","Button","Input","Select","dataService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ScheduleTab","_ref","appData","updateAppData","onNavigate","showAddForm","setShowAddForm","formData","setFormData","clientId","jobId","taskName","scheduledDate","scheduledTime","estimatedHours","notes","allowPastDate","setAllowPastDate","now","Date","currentYear","getFullYear","currentMonth","getMonth","viewDate","setViewDate","handleInputChange","field","value","prev","_objectSpread","handleAddScheduledJob","trim","alert","todayISO","toISOString","slice","resolvedName","jobs","existing","find","j","closed","name","toLowerCase","id","newJob","generateId","createdAt","jobObj","parseFloat","completed","scheduledJobs","deleteScheduledJob","window","confirm","filter","job","completeScheduledJob","map","getCalendarDays","year","month","firstDay","startDate","setDate","getDate","getDay","days","currentDate","i","dateString","concat","String","padStart","jobsForDay","push","date","isCurrentMonth","isToday","toDateString","navigateMonth","direction","newDate","setMonth","calendarDays","monthNames","modalDay","setModalDay","startJobFromSchedule","active","newEntry","start","end","scheduledJobId","updatedScheduled","startedAt","entries","entryId","closeModal","className","children","onClick","label","onChange","e","target","options","clients","client","sort","a","b","localeCompare","placeholder","type","min","step","checked","v","htmlFor","disabled","variant","size","day","index","length","title","c","parseLocalDate","jobDate","jobDateOnly","todayDateOnly","getTime","isOverdue","jobMeta","style","alignItems","toLocaleDateString","weekday","undefined","marginBottom"],"sources":["C:/Users/jurgl/HTMLProjects/CrickTime/src/components/tabs/ScheduleTab.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport Card from '../ui/Card';\r\nimport Button from '../ui/Button';\r\nimport Input from '../ui/Input';\r\nimport Select from '../ui/Select';\r\nimport { dataService } from '../../utils/dataService';\r\n\r\n/**\r\n * Schedule Tab Component\r\n * Allows creating and managing scheduled jobs with calendar view\r\n */\r\nconst ScheduleTab = ({ appData, updateAppData, onNavigate }) => {\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    clientId: '',\r\n    jobId: '',\r\n    taskName: '',\r\n    scheduledDate: '',\r\n    scheduledTime: '',\r\n    estimatedHours: '',\r\n    notes: ''\r\n  });\r\n  // Explicit opt-in for scheduling past dates (Issue 7 remediation)\r\n  const [allowPastDate, setAllowPastDate] = useState(false);\r\n\r\n  // Get current date for calendar\r\n  const now = new Date();\r\n  const currentYear = now.getFullYear();\r\n  const currentMonth = now.getMonth();\r\n\r\n  // Calendar navigation state\r\n  const [viewDate, setViewDate] = useState(new Date(currentYear, currentMonth, 1));\r\n\r\n  // Handle form input changes\r\n  const handleInputChange = (field, value) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [field]: value\r\n    }));\r\n  };\r\n\r\n  // Add new scheduled job\r\n  const handleAddScheduledJob = () => {\r\n    if (!formData.clientId || (!formData.jobId && !formData.taskName.trim()) || !formData.scheduledDate) {\r\n      alert('Please fill in client, job, and date');\r\n      return;\r\n    }\r\n    const todayISO = now.toISOString().slice(0,10);\r\n    if (!allowPastDate && formData.scheduledDate < todayISO) {\r\n      alert('Past date selected. Enable \"Allow past date scheduling\" to proceed.');\r\n      return;\r\n    }\r\n    // Resolve / create job\r\n    let jobId = formData.jobId;\r\n    let resolvedName = formData.taskName.trim();\r\n    const jobs = appData.jobs || [];\r\n    if (!jobId) {\r\n      const existing = jobs.find(j => !j.closed && j.name.toLowerCase() === resolvedName.toLowerCase());\r\n      if (existing) jobId = existing.id; else {\r\n        const newJob = { id: dataService.generateId(), name: resolvedName, closed: false, createdAt: Date.now() };\r\n        updateAppData({ jobs: [...jobs, newJob] });\r\n        jobId = newJob.id;\r\n      }\r\n    } else {\r\n      const jobObj = jobs.find(j => j.id === jobId); if (jobObj) resolvedName = jobObj.name;\r\n    }\r\n\r\n    const newJob = {\r\n      id: dataService.generateId(),\r\n      clientId: formData.clientId,\r\n      taskName: resolvedName,\r\n      jobId,\r\n      scheduledDate: formData.scheduledDate,\r\n      scheduledTime: formData.scheduledTime || '09:00',\r\n      estimatedHours: parseFloat(formData.estimatedHours) || 1,\r\n      notes: formData.notes,\r\n      createdAt: Date.now(),\r\n      completed: false\r\n    };\r\n\r\n    updateAppData({\r\n      scheduledJobs: [...(appData.scheduledJobs || []), newJob]\r\n    });\r\n\r\n    // Reset form\r\n    setFormData({\r\n      clientId: '',\r\n      jobId: '',\r\n      taskName: '',\r\n      scheduledDate: '',\r\n      scheduledTime: '',\r\n      estimatedHours: '',\r\n      notes: ''\r\n    });\r\n    setShowAddForm(false);\r\n  };\r\n\r\n  // Delete scheduled job\r\n  const deleteScheduledJob = (jobId) => {\r\n    if (window.confirm('Are you sure you want to delete this scheduled job?')) {\r\n      updateAppData({\r\n        scheduledJobs: appData.scheduledJobs.filter(job => job.id !== jobId)\r\n      });\r\n    }\r\n  };\r\n\r\n  // Complete scheduled job (mark as done without starting timer)\r\n  const completeScheduledJob = (jobId) => {\r\n    updateAppData({\r\n      scheduledJobs: appData.scheduledJobs.map(job =>\r\n        job.id === jobId ? { ...job, completed: true } : job\r\n      )\r\n    });\r\n  };\r\n\r\n  // Get calendar data\r\n  const getCalendarDays = () => {\r\n    const year = viewDate.getFullYear();\r\n    const month = viewDate.getMonth();\r\n    \r\n    const firstDay = new Date(year, month, 1);\r\n    const startDate = new Date(firstDay);\r\n    startDate.setDate(startDate.getDate() - firstDay.getDay()); // Start from Sunday\r\n    \r\n    const days = [];\r\n    const currentDate = new Date(startDate);\r\n    \r\n    // Generate 42 days (6 weeks) for calendar grid\r\n    for (let i = 0; i < 42; i++) {\r\n      const dateString = `${currentDate.getFullYear()}-${String(currentDate.getMonth()+1).padStart(2,'0')}-${String(currentDate.getDate()).padStart(2,'0')}`;\r\n  const jobsForDay = (appData.scheduledJobs || []).filter(job => job.scheduledDate === dateString && !job.completed);\r\n      \r\n      days.push({\r\n        date: new Date(currentDate),\r\n        dateString,\r\n        isCurrentMonth: currentDate.getMonth() === month,\r\n        isToday: currentDate.toDateString() === now.toDateString(),\r\n        jobs: jobsForDay\r\n      });\r\n      \r\n      currentDate.setDate(currentDate.getDate() + 1);\r\n    }\r\n    \r\n    return days;\r\n  };\r\n\r\n  // Navigate calendar months\r\n  const navigateMonth = (direction) => {\r\n    const newDate = new Date(viewDate);\r\n    newDate.setMonth(viewDate.getMonth() + direction);\r\n    setViewDate(newDate);\r\n  };\r\n\r\n  // Format today's date for default input (not used currently)\r\n  // const todayString = now.toISOString().split('T')[0];\r\n\r\n  const calendarDays = getCalendarDays();\r\n  const monthNames = [\r\n    'January', 'February', 'March', 'April', 'May', 'June',\r\n    'July', 'August', 'September', 'October', 'November', 'December'\r\n  ];\r\n\r\n  // Modal state for day details\r\n  const [modalDay, setModalDay] = useState(null); // { dateString, jobs: [] }\r\n\r\n  const startJobFromSchedule = (job) => {\r\n    if (appData.active) {\r\n      alert('A timer is already running. Stop it before starting a new job.');\r\n      return;\r\n    }\r\n    // Create a new active entry based on scheduled job\r\n    const newEntry = {\r\n      id: dataService.generateId(),\r\n      clientId: job.clientId,\r\n  taskName: job.taskName,\r\n  jobId: job.jobId,\r\n      start: Date.now(),\r\n      end: null,\r\n      notes: job.notes || '',\r\n      scheduledJobId: job.id\r\n    };\r\n    const updatedScheduled = (appData.scheduledJobs||[]).map(j => j.id === job.id ? { ...j, completed: true, startedAt: Date.now() } : j);\r\n    updateAppData({\r\n      entries: [...appData.entries, newEntry],\r\n      active: { entryId: newEntry.id },\r\n      scheduledJobs: updatedScheduled\r\n    });\r\n    setModalDay(null);\r\n    onNavigate && onNavigate('timer');\r\n  };\r\n\r\n  const closeModal = () => setModalDay(null);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Header with Add Button */}\r\n      <Card>\r\n        <div className=\"flex justify-between items-center\">\r\n          <h2 className=\"text-xl font-bold text-gray-200\">Schedule</h2>\r\n          <Button onClick={() => setShowAddForm(true)}>\r\n            + Schedule Job\r\n          </Button>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Add Job Form */}\r\n      {showAddForm && (\r\n        <Card>\r\n          <h3 className=\"text-lg font-semibold mb-4 text-gray-200\">Schedule New Job</h3>\r\n          <div className=\"space-y-4\">\r\n            <Select\r\n              label=\"Client *\"\r\n              value={formData.clientId}\r\n              onChange={(e) => handleInputChange('clientId', e.target.value)}\r\n              options={[\r\n                { value: '', label: 'Select Client' },\r\n                ...appData.clients.map(client => ({\r\n                  value: client.id,\r\n                  label: client.name\r\n                }))\r\n              ]}\r\n            />\r\n            <div>\r\n              <label className=\"input-label\">Job *</label>\r\n              <select\r\n                className=\"select mb-1\"\r\n                value={formData.jobId}\r\n                onChange={(e)=>handleInputChange('jobId', e.target.value)}\r\n              >\r\n                <option value=\"\">-- Select Existing Job --</option>\r\n                {(appData.jobs||[]).filter(j=>!j.closed).sort((a,b)=>a.name.localeCompare(b.name)).map(job => (\r\n                  <option key={job.id} value={job.id}>{job.name}</option>\r\n                ))}\r\n              </select>\r\n              <input\r\n                className=\"input\"\r\n                placeholder=\"Or type new job name...\"\r\n                value={formData.taskName}\r\n                onChange={(e)=>{handleInputChange('taskName', e.target.value); if(e.target.value) handleInputChange('jobId','');}}\r\n              />\r\n              <div className=\"text-xs text-gray-500 mt-1\">Select existing open job or type new.</div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <Input\r\n                label=\"Date *\"\r\n                type=\"date\"\r\n                value={formData.scheduledDate}\r\n                onChange={(e) => handleInputChange('scheduledDate', e.target.value)}\r\n                // Removed min to allow scheduling in the past for overdue badge testing per manual test plan\r\n              />\r\n\r\n              <Input\r\n                label=\"Time\"\r\n                type=\"time\"\r\n                value={formData.scheduledTime}\r\n                onChange={(e) => handleInputChange('scheduledTime', e.target.value)}\r\n                placeholder=\"09:00\"\r\n              />\r\n            </div>\r\n\r\n            <Input\r\n              label=\"Estimated Hours\"\r\n              type=\"number\"\r\n              min=\"0.25\"\r\n              step=\"0.25\"\r\n              value={formData.estimatedHours}\r\n              onChange={(e) => handleInputChange('estimatedHours', e.target.value)}\r\n              placeholder=\"1\"\r\n            />\r\n\r\n            <Input\r\n              label=\"Notes\"\r\n              value={formData.notes}\r\n              onChange={(e) => handleInputChange('notes', e.target.value)}\r\n              placeholder=\"Additional details or special instructions\"\r\n            />\r\n\r\n            <div className=\"flex items-center gap-2 text-xs text-gray-400\">\r\n              <input\r\n                id=\"allowPastDate\"\r\n                type=\"checkbox\"\r\n                checked={allowPastDate}\r\n                onChange={() => setAllowPastDate(v => !v)}\r\n              />\r\n              <label htmlFor=\"allowPastDate\" className=\"select-none\">Allow past date scheduling</label>\r\n            </div>\r\n            {formData.scheduledDate && !allowPastDate && formData.scheduledDate < now.toISOString().slice(0,10) && (\r\n              <div className=\"text-xs text-amber-400\">Past date selected but not allowed yet. Check the box to enable.</div>\r\n            )}\r\n\r\n            <div className=\"flex gap-3\">\r\n              <Button \r\n                onClick={handleAddScheduledJob}\r\n                disabled={!formData.clientId || (!formData.jobId && !formData.taskName.trim()) || !formData.scheduledDate || (!allowPastDate && formData.scheduledDate < now.toISOString().slice(0,10))}\r\n              >\r\n                Schedule Job\r\n              </Button>\r\n              <Button \r\n                variant=\"secondary\" \r\n                onClick={() => setShowAddForm(false)}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Calendar View */}\r\n      <Card>\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <Button \r\n            variant=\"secondary\" \r\n            size=\"small\"\r\n            onClick={() => navigateMonth(-1)}\r\n          >\r\n            ‹ Prev\r\n          </Button>\r\n          <h3 className=\"text-lg font-semibold text-gray-200\">\r\n            {monthNames[viewDate.getMonth()]} {viewDate.getFullYear()}\r\n          </h3>\r\n          <Button \r\n            variant=\"secondary\" \r\n            size=\"small\"\r\n            onClick={() => navigateMonth(1)}\r\n          >\r\n            Next ›\r\n          </Button>\r\n        </div>\r\n\r\n        {/* Calendar Grid */}\r\n        <div className=\"grid grid-cols-7 gap-1 mb-2\">\r\n          {['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'].map(day => (\r\n            <div key={day} className=\"text-center text-sm font-medium text-gray-400 py-2\">\r\n              {day}\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-7 gap-1\">\r\n          {calendarDays.map((day, index) => (\r\n            <div\r\n              key={index}\r\n              className={`cursor-pointer min-h-[80px] p-1 border border-gray-600 rounded transition-colors ${\r\n                day.isCurrentMonth ? 'bg-gray-800 hover:bg-gray-700' : 'bg-gray-900 hover:bg-gray-800'\r\n              } ${day.isToday ? 'ring-2 ring-red-500' : ''}`}\r\n              onClick={() => { if (day.jobs.length > 0) setModalDay(day); }}\r\n              title={day.jobs.length ? `${day.jobs.length} scheduled job(s)` : 'No jobs'}\r\n            >\r\n              <div className={`text-sm ${\r\n                day.isCurrentMonth ? 'text-gray-200' : 'text-gray-500'\r\n              }`}>\r\n                {day.date.getDate()}\r\n              </div>\r\n              \r\n              {day.jobs.length > 0 && (\r\n                <div className=\"space-y-1 mt-1\">\r\n                  {day.jobs.slice(0, 2).map(job => {\r\n                    const client = appData.clients.find(c => c.id === job.clientId);\r\n                    return (\r\n                      <div\r\n                        key={job.id}\r\n                        className=\"text-xs p-1 rounded bg-red-600 text-white truncate\"\r\n                        title={`${client?.name} - ${job.taskName}`}\r\n                      >\r\n                        {job.scheduledTime} {client?.name}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  {day.jobs.length > 2 && (\r\n                    <div className=\"text-xs text-gray-400\">\r\n                      +{day.jobs.length - 2} more\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </Card>\r\n\r\n  {/* Upcoming Jobs List */}\r\n      <Card>\r\n        <h3 className=\"text-lg font-semibold mb-3 text-gray-200\">This Week's Schedule</h3>\r\n        \r\n        {(!appData.scheduledJobs || appData.scheduledJobs.filter(job => !job.completed).length === 0) ? (\r\n          <div className=\"text-center py-4 text-gray-400\">\r\n            No scheduled jobs\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-2\">\r\n      {appData.scheduledJobs\r\n              .filter(job => !job.completed)\r\n              .sort((a, b) => dataService.parseLocalDate(a.scheduledDate) - dataService.parseLocalDate(b.scheduledDate))\r\n              .map(job => {\r\n                const client = appData.clients.find(c => c.id === job.clientId);\r\n                const jobDate = dataService.parseLocalDate(job.scheduledDate);\r\n                // Date-only comparisons to avoid dual Overdue+Today badges\r\n                const jobDateOnly = new Date(jobDate.getFullYear(), jobDate.getMonth(), jobDate.getDate());\r\n                const todayDateOnly = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n                const isToday = jobDateOnly.getTime() === todayDateOnly.getTime();\r\n                const isOverdue = jobDateOnly.getTime() < todayDateOnly.getTime();\r\n        const jobMeta = (appData.jobs || []).find(j => j.id === job.jobId);\r\n                \r\n                return (\r\n                  <div key={job.id} className=\"individual-job-card\">\r\n                    <div className=\"job-card-content\" style={{alignItems:'center'}}>\r\n                      <div className=\"job-main-info\">\r\n                        <div className=\"job-title\">{jobMeta ? jobMeta.name : job.taskName}</div>\r\n                        <div className=\"schedule-compact-row\">\r\n                          <span className=\"job-time\">{jobDate.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric'})}</span>\r\n                          <span className=\"schedule-meta-divider\">•</span>\r\n                          <span className=\"job-time\">{job.scheduledTime}</span>\r\n                          {job.estimatedHours && (<><span className=\"schedule-meta-divider\">•</span><span>{job.estimatedHours}h</span></>)}\r\n                          <span className=\"schedule-meta-divider\">•</span>\r\n                          <span className=\"job-client\">{client?.name || 'Unknown Client'}</span>\r\n                          {(isOverdue || isToday) && (\r\n                            <span className=\"job-status\">\r\n                              {isOverdue && <span className=\"status-overdue\">Overdue</span>}\r\n                              {isToday && <span className=\"status-today\">Today</span>}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                        {job.notes && (<div className=\"job-notes\" title={job.notes}>{job.notes}</div>)}\r\n                      </div>\r\n                      <div className=\"job-actions\">\r\n                        <Button size=\"small\" variant=\"primary\" onClick={() => completeScheduledJob(job.id)} title=\"Mark as complete\" aria-label=\"Mark scheduled job as complete\">✓</Button>\r\n                        <Button size=\"small\" variant=\"secondary\" onClick={() => deleteScheduledJob(job.id)} title=\"Delete job\" aria-label=\"Delete scheduled job\">✕</Button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        )}\r\n      </Card>\r\n      {/* Modal for day jobs */}\r\n      {modalDay && (\r\n        <div className=\"fixed inset-0 z-50 flex items-end sm:items-center justify-center p-2 sm:p-4\">\r\n          <div className=\"absolute inset-0 bg-black/60\" onClick={closeModal} />\r\n          <div className=\"relative w-full max-w-md bg-gray-800 border border-gray-700 rounded-lg shadow-lg p-4 animate-fade-in-up\">\r\n            <div className=\"flex justify-between items-center mb-2\">\r\n              <h3 className=\"text-lg font-semibold text-gray-100\">{new Date(modalDay.date).toLocaleDateString(undefined,{weekday:'long', month:'short', day:'numeric'})}</h3>\r\n              <Button variant=\"secondary\" size=\"small\" onClick={closeModal}>✕</Button>\r\n            </div>\r\n            {modalDay.jobs.length === 0 ? (\r\n              <div className=\"text-sm text-gray-400 py-4 text-center\">No jobs scheduled</div>\r\n            ) : (\r\n              <div className=\"space-y-2 max-h-80 overflow-y-auto pr-1\">\r\n                {modalDay.jobs.sort((a,b)=>a.scheduledTime.localeCompare(b.scheduledTime)).map(job => {\r\n                  const client = appData.clients.find(c => c.id === job.clientId);\r\n                  const jobMeta = (appData.jobs||[]).find(j=>j.id===job.jobId);\r\n                  return (\r\n                    <div key={job.id} className=\"individual-job-card\" style={{marginBottom:0}}>\r\n                      <div className=\"job-card-content\">\r\n                        <div className=\"job-main-info\">\r\n                          <div className=\"job-title\">{jobMeta ? jobMeta.name : job.taskName}</div>\r\n                          <div className=\"job-time\">{job.scheduledTime}{job.estimatedHours && ` • ${job.estimatedHours}h`}</div>\r\n                          <div className=\"job-client\">{client?.name || 'Unknown Client'}</div>\r\n                          {job.notes && <div className=\"job-notes\">{job.notes}</div>}\r\n                        </div>\r\n                        <div className=\"job-actions\">\r\n                          <Button size=\"small\" variant=\"primary\" onClick={() => startJobFromSchedule(job)} title=\"Start job\" aria-label=\"Start job from schedule\">\r\n                            ▶️\r\n                          </Button>\r\n                          <Button size=\"small\" variant=\"secondary\" onClick={() => completeScheduledJob(job.id)} title=\"Mark complete\" aria-label=\"Mark scheduled job complete\">✓</Button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n            <div className=\"mt-3 flex justify-end\">\r\n              <Button variant=\"secondary\" size=\"small\" onClick={closeModal}>Close</Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ScheduleTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}