{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jurgl\\\\HTMLProjects\\\\CrickTime\\\\src\\\\index.js\";\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\n// Register service worker for PWA functionality\n// Reference: www.context7.com for PWA best practices\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nif ('serviceWorker' in navigator) {\n  // Capture deferred install prompt\n  let deferredPrompt = null;\n  window.addEventListener('beforeinstallprompt', e => {\n    e.preventDefault();\n    deferredPrompt = e;\n    window._showInstallPrompt = async () => {\n      if (!deferredPrompt) return false;\n      deferredPrompt.prompt();\n      const choice = await deferredPrompt.userChoice;\n      deferredPrompt = null;\n      return choice.outcome === 'accepted';\n    };\n    console.log('PWA: beforeinstallprompt captured');\n  });\n  window.addEventListener('load', () => {\n    navigator.serviceWorker.register('/sw.js').then(registration => {\n      console.log('SW registered: ', registration);\n\n      // Check for updates every time the app loads\n      registration.addEventListener('updatefound', () => {\n        const newWorker = registration.installing;\n        if (newWorker) {\n          newWorker.addEventListener('statechange', () => {\n            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\n              // New content is available, refresh the page\n              console.log('SW: New content available, refreshing...');\n              window.location.reload();\n            }\n          });\n        }\n      });\n\n      // Check for updates immediately\n      registration.update();\n    }).catch(registrationError => {\n      console.log('SW registration failed: ', registrationError);\n    });\n  });\n\n  // Listen for messages from service worker\n  navigator.serviceWorker.addEventListener('message', event => {\n    if (event.data && event.data.type === 'SW_UPDATED') {\n      console.log('SW: Service worker updated, refreshing...');\n      window.location.reload();\n    } else if (event.data && event.data.type === 'CACHE_CLEARED') {\n      console.log('SW: Cache cleared successfully');\n    }\n  });\n\n  // Add global function for clearing cache (useful for debugging)\n  window.clearAppCache = () => {\n    if (navigator.serviceWorker.controller) {\n      navigator.serviceWorker.controller.postMessage({\n        type: 'CLEAR_CACHE'\n      });\n      console.log('SW: Cache clear requested');\n    } else {\n      console.log('SW: No service worker controller available');\n    }\n  };\n\n  // Local backup/export utilities\n  window.exportLocalData = () => {\n    try {\n      const raw = localStorage.getItem('appData');\n      if (!raw) {\n        alert('No data to export');\n        return;\n      }\n      const blob = new Blob([raw], {\n        type: 'application/json'\n      });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      const ts = new Date().toISOString().slice(0, 10);\n      a.download = `cricktime-backup-${ts}.json`;\n      a.click();\n      URL.revokeObjectURL(url);\n    } catch (e) {\n      console.error('Export failed', e);\n      alert('Export failed');\n    }\n  };\n  window.importLocalData = file => {\n    if (!file) return;\n    const reader = new FileReader();\n    reader.onload = e => {\n      try {\n        const parsed = JSON.parse(e.target.result);\n        if (!parsed || typeof parsed !== 'object') throw new Error('Invalid');\n        localStorage.setItem('appData', JSON.stringify(parsed));\n        alert('Data imported. Reloading...');\n        window.location.reload();\n      } catch (err) {\n        console.error('Import failed', err);\n        alert('Invalid backup file');\n      }\n    };\n    reader.readAsText(file);\n  };\n}\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(/*#__PURE__*/_jsxDEV(React.StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 114,\n  columnNumber: 3\n}, this));","map":{"version":3,"names":["React","ReactDOM","App","jsxDEV","_jsxDEV","navigator","deferredPrompt","window","addEventListener","e","preventDefault","_showInstallPrompt","prompt","choice","userChoice","outcome","console","log","serviceWorker","register","then","registration","newWorker","installing","state","controller","location","reload","update","catch","registrationError","event","data","type","clearAppCache","postMessage","exportLocalData","raw","localStorage","getItem","alert","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","ts","Date","toISOString","slice","download","click","revokeObjectURL","error","importLocalData","file","reader","FileReader","onload","parsed","JSON","parse","target","result","Error","setItem","stringify","err","readAsText","root","createRoot","getElementById","render","StrictMode","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/jurgl/HTMLProjects/CrickTime/src/index.js"],"sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n// Register service worker for PWA functionality\r\n// Reference: www.context7.com for PWA best practices\r\nif ('serviceWorker' in navigator) {\r\n  // Capture deferred install prompt\r\n  let deferredPrompt = null;\r\n  window.addEventListener('beforeinstallprompt', (e) => {\r\n    e.preventDefault();\r\n    deferredPrompt = e;\r\n    window._showInstallPrompt = async () => {\r\n      if (!deferredPrompt) return false;\r\n      deferredPrompt.prompt();\r\n      const choice = await deferredPrompt.userChoice;\r\n      deferredPrompt = null;\r\n      return choice.outcome === 'accepted';\r\n    };\r\n    console.log('PWA: beforeinstallprompt captured');\r\n  });\r\n\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('/sw.js')\r\n      .then((registration) => {\r\n        console.log('SW registered: ', registration);\r\n        \r\n        // Check for updates every time the app loads\r\n        registration.addEventListener('updatefound', () => {\r\n          const newWorker = registration.installing;\r\n          if (newWorker) {\r\n            newWorker.addEventListener('statechange', () => {\r\n              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {\r\n                // New content is available, refresh the page\r\n                console.log('SW: New content available, refreshing...');\r\n                window.location.reload();\r\n              }\r\n            });\r\n          }\r\n        });\r\n        \r\n        // Check for updates immediately\r\n        registration.update();\r\n      })\r\n      .catch((registrationError) => {\r\n        console.log('SW registration failed: ', registrationError);\r\n      });\r\n  });\r\n  \r\n  // Listen for messages from service worker\r\n  navigator.serviceWorker.addEventListener('message', (event) => {\r\n    if (event.data && event.data.type === 'SW_UPDATED') {\r\n      console.log('SW: Service worker updated, refreshing...');\r\n      window.location.reload();\r\n    } else if (event.data && event.data.type === 'CACHE_CLEARED') {\r\n      console.log('SW: Cache cleared successfully');\r\n    }\r\n  });\r\n  \r\n  // Add global function for clearing cache (useful for debugging)\r\n  window.clearAppCache = () => {\r\n    if (navigator.serviceWorker.controller) {\r\n      navigator.serviceWorker.controller.postMessage({ type: 'CLEAR_CACHE' });\r\n      console.log('SW: Cache clear requested');\r\n    } else {\r\n      console.log('SW: No service worker controller available');\r\n    }\r\n  };\r\n\r\n  // Local backup/export utilities\r\n  window.exportLocalData = () => {\r\n    try {\r\n      const raw = localStorage.getItem('appData');\r\n      if (!raw) {\r\n        alert('No data to export');\r\n        return;\r\n      }\r\n      const blob = new Blob([raw], { type: 'application/json' });\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      const ts = new Date().toISOString().slice(0,10);\r\n      a.download = `cricktime-backup-${ts}.json`;\r\n      a.click();\r\n      URL.revokeObjectURL(url);\r\n    } catch (e) {\r\n      console.error('Export failed', e);\r\n      alert('Export failed');\r\n    }\r\n  };\r\n\r\n  window.importLocalData = (file) => {\r\n    if (!file) return;\r\n    const reader = new FileReader();\r\n    reader.onload = (e) => {\r\n      try {\r\n        const parsed = JSON.parse(e.target.result);\r\n        if (!parsed || typeof parsed !== 'object') throw new Error('Invalid');\r\n        localStorage.setItem('appData', JSON.stringify(parsed));\r\n        alert('Data imported. Reloading...');\r\n        window.location.reload();\r\n      } catch (err) {\r\n        console.error('Import failed', err);\r\n        alert('Invalid backup file');\r\n      }\r\n    };\r\n    reader.readAsText(file);\r\n  };\r\n}\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>\r\n);\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}