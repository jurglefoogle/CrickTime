{"ast":null,"code":"import _objectSpread from\"C:/Users/jurgl/HTMLProjects/CrickTime/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * Data Service for Mechanic Hours App\r\n * Handles all data persistence and manipulation\r\n * Reference: www.context7.com for data management best practices\r\n */const STORAGE_KEY='mechanicHoursData';// Schema version\nexport const CURRENT_SCHEMA_VERSION=3;// Default data structure (legacy 'tasks' removed) + new persisted invoices collection\nconst DEFAULT_DATA={schemaVersion:CURRENT_SCHEMA_VERSION,clients:[],entries:[],scheduledJobs:[],jobs:[],invoices:[],// finalized invoice snapshots\ncharges:[],// parts & expense charges phase 1\nactive:null};// Migration functions keyed by fromVersion -> toVersion transformation\n// Each migration receives a mutable data object and should return it\nconst migrations=[// to v2\nfunction toV2(data){if(!data.invoices)data.invoices=[];data.schemaVersion=2;return data;},// to v3 - add charges collection\nfunction toV3(data){if(!Array.isArray(data.charges))data.charges=[];data.schemaVersion=3;return data;}];function applyMigrations(raw){let data=raw||{};let version=typeof data.schemaVersion==='number'?data.schemaVersion:1;// treat absence as v1\nif(version<CURRENT_SCHEMA_VERSION){if(version<2)data=migrations[0](data);if(version<3)data=migrations[1](data);}return data;}export const dataService={/**\r\n   * Load data from localStorage\r\n   * @returns {Object} Application data\r\n   */loadData(){try{const data=localStorage.getItem(STORAGE_KEY);const parsed=data?JSON.parse(data):DEFAULT_DATA;// Legacy cleanup: remove deprecated 'tasks' array if present\nif(parsed&&parsed.tasks){delete parsed.tasks;}// Ensure expected arrays exist\nif(!Array.isArray(parsed.jobs))parsed.jobs=[];if(!Array.isArray(parsed.scheduledJobs))parsed.scheduledJobs=[];// Apply migrations\nconst migrated=applyMigrations(parsed);// Ensure invoices array present after migration\nif(!Array.isArray(migrated.invoices))migrated.invoices=[];if(!Array.isArray(migrated.charges))migrated.charges=[];return migrated;}catch(error){console.error('Error loading data:',error);return DEFAULT_DATA;}},/**\r\n   * Save data to localStorage\r\n   * @param {Object} data - Application data to save\r\n   */saveData(data){try{const clone=_objectSpread({},data);if(clone.tasks)delete clone.tasks;// enforce removal\nif(!clone.schemaVersion)clone.schemaVersion=CURRENT_SCHEMA_VERSION;localStorage.setItem(STORAGE_KEY,JSON.stringify(clone));}catch(error){console.error('Error saving data:',error);}},/**\r\n   * Generate unique ID\r\n   * @returns {string} Unique identifier\r\n   */generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2);},/**\r\n   * Format duration from milliseconds to readable string\r\n   * @param {number} duration - Duration in milliseconds\r\n   * @returns {string} Formatted duration (e.g., \"2h 30m\")\r\n   */formatDuration(duration){if(duration==null||isNaN(duration)||duration<0)return'0m';// Show seconds for very short durations (< 60s)\nif(duration<1000)return'<1s';if(duration<60*1000){const secs=Math.floor(duration/1000);return secs<5?'<5s':\"\".concat(secs,\"s\");}const hours=Math.floor(duration/(1000*60*60));const minutes=Math.floor(duration%(1000*60*60)/(1000*60));if(hours===0){return minutes===0?'<1m':\"\".concat(minutes,\"m\");}else if(minutes===0){return\"\".concat(hours,\"h\");}else{return\"\".concat(hours,\"h \").concat(minutes,\"m\");}},/**\r\n   * Convert duration to decimal hours for billing\r\n   * @param {number} duration - Duration in milliseconds\r\n   * @returns {number} Duration in decimal hours\r\n   */durationToHours(duration){return duration/(1000*60*60);},/**\r\n   * Format currency amount\r\n   * @param {number} amount - Amount to format\r\n   * @returns {string} Formatted currency string\r\n   */formatCurrency(amount){return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD'}).format(amount);},/**\r\n   * Format date for display\r\n   * @param {number|Date} date - Date to format\r\n   * @returns {string} Formatted date string\r\n   */formatDate(date){const dateObj=typeof date==='number'?new Date(date):date;return dateObj.toLocaleDateString('en-US',{year:'numeric',month:'short',day:'numeric'});},/**\r\n   * Format time for display\r\n   * @param {number|Date} date - Date to format\r\n   * @returns {string} Formatted time string\r\n   */formatTime(date){const dateObj=typeof date==='number'?new Date(date):date;return dateObj.toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit'});},/**\r\n   * Parse a YYYY-MM-DD date string as a local Date (no UTC shift)\r\n   * @param {string} dateStr - Date string in format YYYY-MM-DD\r\n   * @returns {Date|null} Local date or null\r\n   */parseLocalDate(dateStr){if(!dateStr||typeof dateStr!=='string')return null;const[y,m,d]=dateStr.split('-').map(Number);if(!y||!m||!d)return null;return new Date(y,m-1,d,0,0,0,0);},/**\r\n   * Get entries for a specific date range\r\n   * @param {Object[]} entries - All entries\r\n   * @param {Date} startDate - Start date\r\n   * @param {Date} endDate - End date\r\n   * @returns {Object[]} Filtered entries\r\n   */getEntriesInRange(entries,startDate,endDate){return entries.filter(entry=>{const entryDate=new Date(entry.start);return entryDate>=startDate&&entryDate<=endDate;});},/**\r\n   * Calculate total hours for entries\r\n   * @param {Object[]} entries - Entries to calculate\r\n   * @returns {number} Total hours\r\n   */calculateTotalHours(entries){return entries.reduce((total,entry)=>{if(entry.end&&entry.start){return total+this.durationToHours(entry.end-entry.start);}return total;},0);},/**\r\n   * Calculate total amount for entries with client rates\r\n   * @param {Object[]} entries - Entries to calculate\r\n   * @param {Object[]} clients - Client data with rates\r\n   * @returns {number} Total amount\r\n   */calculateTotalAmount(entries,clients){return entries.reduce((total,entry)=>{if(entry.end&&entry.start){const client=clients.find(c=>c.id===entry.clientId);if(client&&client.rate){const hours=this.durationToHours(entry.end-entry.start);return total+hours*client.rate;}}return total;},0);},/**\r\n   * Export data as JSON for backup\r\n   * @param {Object} data - Application data\r\n   * @returns {string} JSON string\r\n   */exportData(data){try{return JSON.stringify(data,null,2);}catch(error){console.error('Error exporting data:',error);return null;}},/**\r\n   * Import data from JSON backup\r\n   * @param {string} jsonString - JSON data string\r\n   * @returns {Object|null} Parsed data or null if invalid\r\n   */importData(jsonString){try{const data=JSON.parse(jsonString);// Validate data structure\nif(data&&typeof data==='object'&&Array.isArray(data.clients)&&Array.isArray(data.entries)){// Provide graceful upgrade removing legacy 'tasks'\nif(data.tasks)delete data.tasks;// legacy cleanup\nif(!Array.isArray(data.jobs))data.jobs=[];if(!Array.isArray(data.scheduledJobs))data.scheduledJobs=[];return data;}return null;}catch(error){console.error('Error importing data:',error);return null;}}};","map":{"version":3,"names":["STORAGE_KEY","CURRENT_SCHEMA_VERSION","DEFAULT_DATA","schemaVersion","clients","entries","scheduledJobs","jobs","invoices","charges","active","migrations","toV2","data","toV3","Array","isArray","applyMigrations","raw","version","dataService","loadData","localStorage","getItem","parsed","JSON","parse","tasks","migrated","error","console","saveData","clone","_objectSpread","setItem","stringify","generateId","Date","now","toString","Math","random","substr","formatDuration","duration","isNaN","secs","floor","concat","hours","minutes","durationToHours","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatDate","date","dateObj","toLocaleDateString","year","month","day","formatTime","toLocaleTimeString","hour","minute","parseLocalDate","dateStr","y","m","d","split","map","Number","getEntriesInRange","startDate","endDate","filter","entry","entryDate","start","calculateTotalHours","reduce","total","end","calculateTotalAmount","client","find","c","id","clientId","rate","exportData","importData","jsonString"],"sources":["C:/Users/jurgl/HTMLProjects/CrickTime/src/utils/dataService.js"],"sourcesContent":["/**\r\n * Data Service for Mechanic Hours App\r\n * Handles all data persistence and manipulation\r\n * Reference: www.context7.com for data management best practices\r\n */\r\n\r\nconst STORAGE_KEY = 'mechanicHoursData';\r\n\r\n// Schema version\r\nexport const CURRENT_SCHEMA_VERSION = 3;\r\n\r\n// Default data structure (legacy 'tasks' removed) + new persisted invoices collection\r\nconst DEFAULT_DATA = {\r\n  schemaVersion: CURRENT_SCHEMA_VERSION,\r\n  clients: [],\r\n  entries: [],\r\n  scheduledJobs: [],\r\n  jobs: [],\r\n  invoices: [], // finalized invoice snapshots\r\n  charges: [], // parts & expense charges phase 1\r\n  active: null\r\n};\r\n\r\n// Migration functions keyed by fromVersion -> toVersion transformation\r\n// Each migration receives a mutable data object and should return it\r\nconst migrations = [\r\n  // to v2\r\n  function toV2(data) {\r\n    if (!data.invoices) data.invoices = [];\r\n    data.schemaVersion = 2;\r\n    return data;\r\n  },\r\n  // to v3 - add charges collection\r\n  function toV3(data) {\r\n    if (!Array.isArray(data.charges)) data.charges = [];\r\n    data.schemaVersion = 3;\r\n    return data;\r\n  }\r\n];\r\n\r\nfunction applyMigrations(raw) {\r\n  let data = raw || {};\r\n  let version = typeof data.schemaVersion === 'number' ? data.schemaVersion : 1; // treat absence as v1\r\n  if (version < CURRENT_SCHEMA_VERSION) {\r\n    if (version < 2) data = migrations[0](data);\r\n    if (version < 3) data = migrations[1](data);\r\n  }\r\n  return data;\r\n}\r\n\r\nexport const dataService = {\r\n  /**\r\n   * Load data from localStorage\r\n   * @returns {Object} Application data\r\n   */\r\n  loadData() {\r\n    try {\r\n      const data = localStorage.getItem(STORAGE_KEY);\r\n  const parsed = data ? JSON.parse(data) : DEFAULT_DATA;\r\n      // Legacy cleanup: remove deprecated 'tasks' array if present\r\n      if (parsed && parsed.tasks) {\r\n        delete parsed.tasks;\r\n      }\r\n      // Ensure expected arrays exist\r\n      if (!Array.isArray(parsed.jobs)) parsed.jobs = [];\r\n      if (!Array.isArray(parsed.scheduledJobs)) parsed.scheduledJobs = [];\r\n  // Apply migrations\r\n  const migrated = applyMigrations(parsed);\r\n  // Ensure invoices array present after migration\r\n  if (!Array.isArray(migrated.invoices)) migrated.invoices = [];\r\n  if (!Array.isArray(migrated.charges)) migrated.charges = [];\r\n  return migrated;\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n      return DEFAULT_DATA;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Save data to localStorage\r\n   * @param {Object} data - Application data to save\r\n   */\r\n  saveData(data) {\r\n    try {\r\n  const clone = { ...data };\r\n  if (clone.tasks) delete clone.tasks; // enforce removal\r\n  if (!clone.schemaVersion) clone.schemaVersion = CURRENT_SCHEMA_VERSION;\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(clone));\r\n    } catch (error) {\r\n      console.error('Error saving data:', error);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Generate unique ID\r\n   * @returns {string} Unique identifier\r\n   */\r\n  generateId() {\r\n    return Date.now().toString(36) + Math.random().toString(36).substr(2);\r\n  },\r\n\r\n  /**\r\n   * Format duration from milliseconds to readable string\r\n   * @param {number} duration - Duration in milliseconds\r\n   * @returns {string} Formatted duration (e.g., \"2h 30m\")\r\n   */\r\n  formatDuration(duration) {\r\n    if (duration == null || isNaN(duration) || duration < 0) return '0m';\r\n    // Show seconds for very short durations (< 60s)\r\n    if (duration < 1000) return '<1s';\r\n    if (duration < 60 * 1000) {\r\n      const secs = Math.floor(duration / 1000);\r\n      return secs < 5 ? '<5s' : `${secs}s`;\r\n    }\r\n    const hours = Math.floor(duration / (1000 * 60 * 60));\r\n    const minutes = Math.floor((duration % (1000 * 60 * 60)) / (1000 * 60));\r\n    if (hours === 0) {\r\n      return minutes === 0 ? '<1m' : `${minutes}m`;\r\n    } else if (minutes === 0) {\r\n      return `${hours}h`;\r\n    } else {\r\n      return `${hours}h ${minutes}m`;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Convert duration to decimal hours for billing\r\n   * @param {number} duration - Duration in milliseconds\r\n   * @returns {number} Duration in decimal hours\r\n   */\r\n  durationToHours(duration) {\r\n    return duration / (1000 * 60 * 60);\r\n  },\r\n\r\n  /**\r\n   * Format currency amount\r\n   * @param {number} amount - Amount to format\r\n   * @returns {string} Formatted currency string\r\n   */\r\n  formatCurrency(amount) {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD'\r\n    }).format(amount);\r\n  },\r\n\r\n  /**\r\n   * Format date for display\r\n   * @param {number|Date} date - Date to format\r\n   * @returns {string} Formatted date string\r\n   */\r\n  formatDate(date) {\r\n    const dateObj = typeof date === 'number' ? new Date(date) : date;\r\n    return dateObj.toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Format time for display\r\n   * @param {number|Date} date - Date to format\r\n   * @returns {string} Formatted time string\r\n   */\r\n  formatTime(date) {\r\n    const dateObj = typeof date === 'number' ? new Date(date) : date;\r\n    return dateObj.toLocaleTimeString('en-US', {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Parse a YYYY-MM-DD date string as a local Date (no UTC shift)\r\n   * @param {string} dateStr - Date string in format YYYY-MM-DD\r\n   * @returns {Date|null} Local date or null\r\n   */\r\n  parseLocalDate(dateStr) {\r\n    if (!dateStr || typeof dateStr !== 'string') return null;\r\n    const [y,m,d] = dateStr.split('-').map(Number);\r\n    if (!y || !m || !d) return null;\r\n    return new Date(y, m-1, d, 0,0,0,0);\r\n  },\r\n\r\n  /**\r\n   * Get entries for a specific date range\r\n   * @param {Object[]} entries - All entries\r\n   * @param {Date} startDate - Start date\r\n   * @param {Date} endDate - End date\r\n   * @returns {Object[]} Filtered entries\r\n   */\r\n  getEntriesInRange(entries, startDate, endDate) {\r\n    return entries.filter(entry => {\r\n      const entryDate = new Date(entry.start);\r\n      return entryDate >= startDate && entryDate <= endDate;\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Calculate total hours for entries\r\n   * @param {Object[]} entries - Entries to calculate\r\n   * @returns {number} Total hours\r\n   */\r\n  calculateTotalHours(entries) {\r\n    return entries.reduce((total, entry) => {\r\n      if (entry.end && entry.start) {\r\n        return total + this.durationToHours(entry.end - entry.start);\r\n      }\r\n      return total;\r\n    }, 0);\r\n  },\r\n\r\n  /**\r\n   * Calculate total amount for entries with client rates\r\n   * @param {Object[]} entries - Entries to calculate\r\n   * @param {Object[]} clients - Client data with rates\r\n   * @returns {number} Total amount\r\n   */\r\n  calculateTotalAmount(entries, clients) {\r\n    return entries.reduce((total, entry) => {\r\n      if (entry.end && entry.start) {\r\n        const client = clients.find(c => c.id === entry.clientId);\r\n        if (client && client.rate) {\r\n          const hours = this.durationToHours(entry.end - entry.start);\r\n          return total + (hours * client.rate);\r\n        }\r\n      }\r\n      return total;\r\n    }, 0);\r\n  },\r\n\r\n  /**\r\n   * Export data as JSON for backup\r\n   * @param {Object} data - Application data\r\n   * @returns {string} JSON string\r\n   */\r\n  exportData(data) {\r\n    try {\r\n      return JSON.stringify(data, null, 2);\r\n    } catch (error) {\r\n      console.error('Error exporting data:', error);\r\n      return null;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Import data from JSON backup\r\n   * @param {string} jsonString - JSON data string\r\n   * @returns {Object|null} Parsed data or null if invalid\r\n   */\r\n  importData(jsonString) {\r\n    try {\r\n      const data = JSON.parse(jsonString);\r\n      // Validate data structure\r\n      if (data && typeof data === 'object' && \r\n          Array.isArray(data.clients) && \r\n          Array.isArray(data.entries)) {\r\n        // Provide graceful upgrade removing legacy 'tasks'\r\n        if (data.tasks) delete data.tasks; // legacy cleanup\r\n        if (!Array.isArray(data.jobs)) data.jobs = [];\r\n        if (!Array.isArray(data.scheduledJobs)) data.scheduledJobs = [];\r\n        return data;\r\n      }\r\n      return null;\r\n    } catch (error) {\r\n      console.error('Error importing data:', error);\r\n      return null;\r\n    }\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}