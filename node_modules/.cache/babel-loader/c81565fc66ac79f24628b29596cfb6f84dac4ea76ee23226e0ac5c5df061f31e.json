{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jurgl\\\\HTMLProjects\\\\CrickTime\\\\src\\\\components\\\\tabs\\\\InvoiceTab.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport Card from '../ui/Card';\nimport Button from '../ui/Button';\nimport Input from '../ui/Input';\nimport Select from '../ui/Select';\nimport { dataService } from '../../utils/dataService';\n\n/**\r\n * Invoice Tab Component\r\n * Reference: www.context7.com for invoice generation patterns\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst InvoiceTab = ({\n  appData,\n  updateAppData\n}) => {\n  _s();\n  const [selectedClient, setSelectedClient] = useState('');\n  const [startDate, setStartDate] = useState('');\n  const [endDate, setEndDate] = useState('');\n  const [invoiceData, setInvoiceData] = useState(null); // holds draft or finalized invoice meta & all candidate line items\n  const [selectedIds, setSelectedIds] = useState(new Set());\n  const [finalized, setFinalized] = useState(false);\n\n  // Get client options\n  const clientOptions = appData.clients.map(client => ({\n    value: client.id,\n    label: client.name\n  }));\n\n  // Generate draft invoice data (does NOT mark entries invoiced yet)\n  const generateInvoice = () => {\n    if (!selectedClient || !startDate || !endDate) {\n      alert('Please select a client and date range');\n      return;\n    }\n    const client = appData.clients.find(c => c.id === selectedClient);\n    if (!client) {\n      alert('Selected client not found');\n      return;\n    }\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n    end.setHours(23, 59, 59, 999); // Include full end date\n\n    if (start > end) {\n      alert('Start date must be before end date');\n      return;\n    }\n\n    // Get entries for the client and date range\n    const clientEntries = appData.entries.filter(entry => {\n      if (!entry.end || entry.clientId !== selectedClient) return false;\n      if (entry.invoiced) return false; // skip already invoiced\n\n      const entryDate = new Date(entry.start);\n      return entryDate >= start && entryDate <= end;\n    });\n    if (clientEntries.length === 0) {\n      alert('No entries found for the selected client and date range');\n      return;\n    }\n\n    // Create candidate line items (all initially selected)\n    const lineItems = clientEntries.map(entry => {\n      const taskName = entry.taskName || 'Unknown Task';\n      const duration = entry.end - entry.start;\n      const hours = dataService.durationToHours(duration);\n      const amount = hours * client.rate;\n      return {\n        id: entry.id,\n        date: dataService.formatDate(entry.start),\n        task: taskName,\n        notes: entry.notes || '',\n        hours: hours,\n        rate: client.rate,\n        amount: amount\n      };\n    });\n    const invoice = {\n      client,\n      dateRange: {\n        start: dataService.formatDate(start),\n        end: dataService.formatDate(end)\n      },\n      lineItems,\n      generatedDate: dataService.formatDate(new Date()),\n      invoiceNumber: `INV-${Date.now()}`\n    };\n    setInvoiceData(invoice);\n    setSelectedIds(new Set(lineItems.map(li => li.id)));\n    setFinalized(false);\n  };\n\n  // Toggle selection of a line item\n  const toggleLineItem = id => {\n    if (finalized) return;\n    setSelectedIds(prev => {\n      const next = new Set(prev);\n      if (next.has(id)) next.delete(id);else next.add(id);\n      return next;\n    });\n  };\n  const selectAll = () => {\n    if (!invoiceData || finalized) return;\n    setSelectedIds(new Set(invoiceData.lineItems.map(li => li.id)));\n  };\n  const clearAll = () => {\n    if (finalized) return;\n    setSelectedIds(new Set());\n  };\n\n  // Compute totals from selected items\n  const selectedLineItems = useMemo(() => {\n    if (!invoiceData) return [];\n    return invoiceData.lineItems.filter(li => selectedIds.has(li.id));\n  }, [invoiceData, selectedIds]);\n  const computedTotals = useMemo(() => {\n    const hours = selectedLineItems.reduce((s, i) => s + i.hours, 0);\n    const amount = selectedLineItems.reduce((s, i) => s + i.amount, 0);\n    return {\n      hours,\n      amount\n    };\n  }, [selectedLineItems]);\n\n  // Finalize invoice: mark selected entries as invoiced\n  const finalizeInvoice = () => {\n    if (!invoiceData) return;\n    if (selectedIds.size === 0) {\n      alert('Select at least one line item to finalize the invoice.');\n      return;\n    }\n    const updatedEntries = appData.entries.map(e => selectedIds.has(e.id) ? {\n      ...e,\n      invoiced: true\n    } : e);\n    updateAppData({\n      entries: updatedEntries\n    });\n    setFinalized(true);\n  };\n\n  // Export invoice as CSV\n  const exportCSV = () => {\n    if (!invoiceData) return;\n    const headers = ['Date', 'Task', 'Notes', 'Hours', 'Rate', 'Amount'];\n    const rows = selectedLineItems.map(item => [item.date, item.task, item.notes, item.hours.toFixed(2), item.rate.toFixed(2), item.amount.toFixed(2)]);\n\n    // Add totals row\n    rows.push(['', '', 'TOTAL', computedTotals.hours.toFixed(2), '', computedTotals.amount.toFixed(2)]);\n    const csvContent = [headers, ...rows].map(row => row.map(cell => `\"${cell}\"`).join(',')).join('\\n');\n    const blob = new Blob([csvContent], {\n      type: 'text/csv'\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement('a');\n    link.href = url;\n    link.download = `invoice-${invoiceData.client.name}-${invoiceData.dateRange.start}-to-${invoiceData.dateRange.end}.csv`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // Print invoice\n  const printInvoice = () => {\n    if (!invoiceData) return;\n    const printWindow = window.open('', '_blank');\n    const printContent = generatePrintHTML({\n      ...invoiceData,\n      lineItems: selectedLineItems,\n      totals: computedTotals\n    });\n    printWindow.document.write(printContent);\n    printWindow.document.close();\n    printWindow.focus();\n    printWindow.print();\n  };\n\n  // Generate HTML for printing\n  const generatePrintHTML = invoice => {\n    return `\n<!DOCTYPE html>\n<html>\n<head>\n    <title>Invoice - ${invoice.client.name}</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 40px; color: #333; }\n        .header { text-align: center; margin-bottom: 40px; }\n        .invoice-title { font-size: 28px; font-weight: bold; color: #2563eb; }\n        .invoice-info { display: flex; justify-content: space-between; margin-bottom: 30px; }\n        .client-info h3, .invoice-details h3 { margin-top: 0; color: #374151; }\n        table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }\n        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }\n        th { background-color: #f9fafb; font-weight: bold; }\n        .amount { text-align: right; }\n        .totals { font-weight: bold; background-color: #f3f4f6; }\n        .footer { margin-top: 40px; text-align: center; color: #6b7280; font-size: 14px; }\n        @media print {\n            body { margin: 20px; }\n            .no-print { display: none; }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"header\">\n        <div class=\"invoice-title\">INVOICE</div>\n        <div style=\"margin-top: 10px; color: #6b7280;\">Mechanic Hours Time Tracking</div>\n    </div>\n    \n    <div class=\"invoice-info\">\n        <div class=\"client-info\">\n            <h3>Bill To:</h3>\n            <div><strong>${invoice.client.name}</strong></div>\n            ${invoice.client.contact ? `<div>${invoice.client.contact}</div>` : ''}\n        </div>\n        \n        <div class=\"invoice-details\">\n            <h3>Invoice Details:</h3>\n            <div><strong>Invoice #:</strong> ${invoice.invoiceNumber}</div>\n            <div><strong>Date:</strong> ${invoice.generatedDate}</div>\n            <div><strong>Period:</strong> ${invoice.dateRange.start} - ${invoice.dateRange.end}</div>\n        </div>\n    </div>\n    \n    <table>\n        <thead>\n            <tr>\n                <th>Date</th>\n                <th>Task</th>\n                <th>Notes</th>\n                <th>Hours</th>\n                <th>Rate</th>\n                <th class=\"amount\">Amount</th>\n            </tr>\n        </thead>\n        <tbody>\n            ${invoice.lineItems.map(item => `\n                <tr>\n                    <td>${item.date}</td>\n                    <td>${item.task}</td>\n                    <td>${item.notes}</td>\n                    <td>${item.hours.toFixed(2)}</td>\n                    <td>${dataService.formatCurrency(item.rate)}</td>\n                    <td class=\"amount\">${dataService.formatCurrency(item.amount)}</td>\n                </tr>\n            `).join('')}\n      <tr class=\"totals\">\n        <td colspan=\"3\">TOTAL</td>\n        <td><strong>${invoice.totals.hours.toFixed(2)}</strong></td>\n        <td></td>\n        <td class=\"amount\"><strong>${dataService.formatCurrency(invoice.totals.amount)}</strong></td>\n      </tr>\n        </tbody>\n    </table>\n    \n    <div class=\"footer\">\n        <p>Generated by Mechanic Hours - www.context7.com</p>\n        <p>Thank you for your business!</p>\n    </div>\n</body>\n</html>\n    `;\n  };\n\n  // Clear invoice\n  const clearInvoice = () => {\n    setInvoiceData(null);\n    setSelectedClient('');\n    setStartDate('');\n    setEndDate('');\n    setSelectedIds(new Set());\n    setFinalized(false);\n  };\n\n  // Set quick date ranges\n  const setThisWeek = () => {\n    const now = new Date();\n    const startOfWeek = new Date(now);\n    startOfWeek.setDate(now.getDate() - now.getDay()); // Start of week (Sunday)\n\n    setStartDate(startOfWeek.toISOString().slice(0, 10));\n    setEndDate(now.toISOString().slice(0, 10));\n  };\n  const setThisMonth = () => {\n    const now = new Date();\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n    setStartDate(startOfMonth.toISOString().slice(0, 10));\n    setEndDate(now.toISOString().slice(0, 10));\n  };\n  const setLastMonth = () => {\n    const now = new Date();\n    const startOfLastMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);\n    const endOfLastMonth = new Date(now.getFullYear(), now.getMonth(), 0);\n    setStartDate(startOfLastMonth.toISOString().slice(0, 10));\n    setEndDate(endOfLastMonth.toISOString().slice(0, 10));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [!invoiceData ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold mb-4\",\n          children: \"Generate Invoice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          label: \"Client\",\n          value: selectedClient,\n          onChange: e => setSelectedClient(e.target.value),\n          options: clientOptions,\n          placeholder: \"Select a client\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            label: \"Start Date\",\n            type: \"date\",\n            value: startDate,\n            onChange: e => setStartDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: \"End Date\",\n            type: \"date\",\n            value: endDate,\n            onChange: e => setEndDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            size: \"small\",\n            onClick: setThisWeek,\n            children: \"This Week\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            size: \"small\",\n            onClick: setThisMonth,\n            children: \"This Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            size: \"small\",\n            onClick: setLastMonth,\n            children: \"Last Month\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: generateInvoice,\n          className: \"w-full\",\n          disabled: !selectedClient || !startDate || !endDate,\n          children: \"\\uD83D\\uDCC4 Generate Invoice\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 11\n      }, this), appData.clients.length > 0 && /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-4\",\n          children: \"Quick Stats\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-primary-600\",\n              children: appData.clients.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Active Clients\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-green-600\",\n              children: appData.entries.filter(e => e.end).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Completed Entries\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-2xl font-bold text-blue-600\",\n              children: [dataService.calculateTotalHours(appData.entries.filter(e => e.end)).toFixed(1), \"h\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Total Hours\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-start mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold\",\n              children: \"Invoice\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [invoiceData.invoiceNumber, !finalized && ' (Draft)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 395,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: [invoiceData.dateRange.start, \" - \", invoiceData.dateRange.end]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            size: \"small\",\n            onClick: clearInvoice,\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold\",\n            children: invoiceData.client.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this), invoiceData.client.contact && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-400\",\n            children: invoiceData.client.contact\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 13\n        }, this), !finalized && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-wrap gap-2 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"secondary\",\n            onClick: selectAll,\n            children: \"Select All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            variant: \"secondary\",\n            onClick: clearAll,\n            children: \"Clear All\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            onClick: finalizeInvoice,\n            disabled: selectedIds.size === 0,\n            children: \"Finalize & Mark Invoiced\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 15\n        }, this), finalized && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 text-xs text-green-600 font-medium\",\n          children: [\"Finalized \\u2022 \", selectedIds.size, \" items marked invoiced\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"activity-list\",\n          children: invoiceData.lineItems.map(item => {\n            const checked = selectedIds.has(item.id);\n            const disabled = finalized;\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `individual-job-card ${!checked ? 'opacity-50' : ''}`,\n              style: {\n                position: 'relative'\n              },\n              children: [!finalized && /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: checked,\n                onChange: () => toggleLineItem(item.id),\n                style: {\n                  position: 'absolute',\n                  top: 6,\n                  left: 6,\n                  width: 16,\n                  height: 16\n                },\n                disabled: disabled,\n                title: \"Include in invoice\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 423,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job-card-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-main-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"job-title\",\n                    children: item.task\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"job-time\",\n                    children: [item.date, \" \\u2022 \", item.hours.toFixed(2), \"h @ \", dataService.formatCurrency(item.rate)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 23\n                  }, this), item.notes && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"job-notes\",\n                    children: item.notes\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-actions\",\n                  style: {\n                    alignItems: 'flex-end'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-value stat-value-success\",\n                    style: {\n                      fontSize: '0.85rem'\n                    },\n                    children: dataService.formatCurrency(item.amount)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 19\n              }, this)]\n            }, item.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"separator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-sm font-semibold\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [computedTotals.hours.toFixed(2), \"h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-sm font-semibold mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total Amount\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: dataService.formatCurrency(computedTotals.amount)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: printInvoice,\n            className: \"flex-1\",\n            size: \"small\",\n            children: \"Print\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: exportCSV,\n            className: \"flex-1\",\n            size: \"small\",\n            children: \"CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 11\n      }, this)\n    }, void 0, false), appData.entries.filter(e => e.end).length === 0 && /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-6 text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mb-2\",\n          children: \"No completed time entries found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 466,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Start tracking time to generate invoices!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 464,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 309,\n    columnNumber: 5\n  }, this);\n};\n_s(InvoiceTab, \"abX6PtR1QJ0IK90nqVP88X1aTss=\");\n_c = InvoiceTab;\nexport default InvoiceTab;\nvar _c;\n$RefreshReg$(_c, \"InvoiceTab\");","map":{"version":3,"names":["React","useState","useMemo","Card","Button","Input","Select","dataService","jsxDEV","_jsxDEV","Fragment","_Fragment","InvoiceTab","appData","updateAppData","_s","selectedClient","setSelectedClient","startDate","setStartDate","endDate","setEndDate","invoiceData","setInvoiceData","selectedIds","setSelectedIds","Set","finalized","setFinalized","clientOptions","clients","map","client","value","id","label","name","generateInvoice","alert","find","c","start","Date","end","setHours","clientEntries","entries","filter","entry","clientId","invoiced","entryDate","length","lineItems","taskName","duration","hours","durationToHours","amount","rate","date","formatDate","task","notes","invoice","dateRange","generatedDate","invoiceNumber","now","li","toggleLineItem","prev","next","has","delete","add","selectAll","clearAll","selectedLineItems","computedTotals","reduce","s","i","finalizeInvoice","size","updatedEntries","e","exportCSV","headers","rows","item","toFixed","push","csvContent","row","cell","join","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","click","revokeObjectURL","printInvoice","printWindow","window","open","printContent","generatePrintHTML","totals","write","close","focus","print","contact","formatCurrency","clearInvoice","setThisWeek","startOfWeek","setDate","getDate","getDay","toISOString","slice","setThisMonth","startOfMonth","getFullYear","getMonth","setLastMonth","startOfLastMonth","endOfLastMonth","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","target","options","placeholder","variant","onClick","disabled","calculateTotalHours","checked","style","position","top","left","width","height","title","alignItems","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/jurgl/HTMLProjects/CrickTime/src/components/tabs/InvoiceTab.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\r\nimport Card from '../ui/Card';\r\nimport Button from '../ui/Button';\r\nimport Input from '../ui/Input';\r\nimport Select from '../ui/Select';\r\nimport { dataService } from '../../utils/dataService';\r\n\r\n/**\r\n * Invoice Tab Component\r\n * Reference: www.context7.com for invoice generation patterns\r\n */\r\nconst InvoiceTab = ({ appData, updateAppData }) => {\r\n  const [selectedClient, setSelectedClient] = useState('');\r\n  const [startDate, setStartDate] = useState('');\r\n  const [endDate, setEndDate] = useState('');\r\n  const [invoiceData, setInvoiceData] = useState(null); // holds draft or finalized invoice meta & all candidate line items\r\n  const [selectedIds, setSelectedIds] = useState(new Set());\r\n  const [finalized, setFinalized] = useState(false);\r\n\r\n  // Get client options\r\n  const clientOptions = appData.clients.map(client => ({\r\n    value: client.id,\r\n    label: client.name\r\n  }));\r\n\r\n  // Generate draft invoice data (does NOT mark entries invoiced yet)\r\n  const generateInvoice = () => {\r\n    if (!selectedClient || !startDate || !endDate) {\r\n      alert('Please select a client and date range');\r\n      return;\r\n    }\r\n\r\n    const client = appData.clients.find(c => c.id === selectedClient);\r\n    if (!client) {\r\n      alert('Selected client not found');\r\n      return;\r\n    }\r\n\r\n    const start = new Date(startDate);\r\n    const end = new Date(endDate);\r\n    end.setHours(23, 59, 59, 999); // Include full end date\r\n\r\n    if (start > end) {\r\n      alert('Start date must be before end date');\r\n      return;\r\n    }\r\n\r\n    // Get entries for the client and date range\r\n    const clientEntries = appData.entries.filter(entry => {\r\n      if (!entry.end || entry.clientId !== selectedClient) return false;\r\n      if (entry.invoiced) return false; // skip already invoiced\r\n      \r\n      const entryDate = new Date(entry.start);\r\n      return entryDate >= start && entryDate <= end;\r\n    });\r\n\r\n    if (clientEntries.length === 0) {\r\n      alert('No entries found for the selected client and date range');\r\n      return;\r\n    }\r\n\r\n  // Create candidate line items (all initially selected)\r\n  const lineItems = clientEntries.map(entry => {\r\n      const taskName = entry.taskName || 'Unknown Task';\r\n      const duration = entry.end - entry.start;\r\n      const hours = dataService.durationToHours(duration);\r\n      const amount = hours * client.rate;\r\n\r\n      return {\r\n        id: entry.id,\r\n        date: dataService.formatDate(entry.start),\r\n        task: taskName,\r\n        notes: entry.notes || '',\r\n        hours: hours,\r\n        rate: client.rate,\r\n        amount: amount\r\n      };\r\n    });\r\n\r\n    const invoice = {\r\n      client,\r\n      dateRange: {\r\n        start: dataService.formatDate(start),\r\n        end: dataService.formatDate(end)\r\n      },\r\n      lineItems,\r\n      generatedDate: dataService.formatDate(new Date()),\r\n      invoiceNumber: `INV-${Date.now()}`\r\n    };\r\n\r\n    setInvoiceData(invoice);\r\n    setSelectedIds(new Set(lineItems.map(li => li.id)));\r\n    setFinalized(false);\r\n  };\r\n\r\n  // Toggle selection of a line item\r\n  const toggleLineItem = (id) => {\r\n    if (finalized) return;\r\n    setSelectedIds(prev => {\r\n      const next = new Set(prev);\r\n      if (next.has(id)) next.delete(id); else next.add(id);\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const selectAll = () => {\r\n    if (!invoiceData || finalized) return;\r\n    setSelectedIds(new Set(invoiceData.lineItems.map(li => li.id)));\r\n  };\r\n\r\n  const clearAll = () => {\r\n    if (finalized) return;\r\n    setSelectedIds(new Set());\r\n  };\r\n\r\n  // Compute totals from selected items\r\n  const selectedLineItems = useMemo(() => {\r\n    if (!invoiceData) return [];\r\n    return invoiceData.lineItems.filter(li => selectedIds.has(li.id));\r\n  }, [invoiceData, selectedIds]);\r\n\r\n  const computedTotals = useMemo(() => {\r\n    const hours = selectedLineItems.reduce((s, i) => s + i.hours, 0);\r\n    const amount = selectedLineItems.reduce((s, i) => s + i.amount, 0);\r\n    return { hours, amount };\r\n  }, [selectedLineItems]);\r\n\r\n  // Finalize invoice: mark selected entries as invoiced\r\n  const finalizeInvoice = () => {\r\n    if (!invoiceData) return;\r\n    if (selectedIds.size === 0) {\r\n      alert('Select at least one line item to finalize the invoice.');\r\n      return;\r\n    }\r\n    const updatedEntries = appData.entries.map(e =>\r\n      selectedIds.has(e.id) ? { ...e, invoiced: true } : e\r\n    );\r\n    updateAppData({ entries: updatedEntries });\r\n    setFinalized(true);\r\n  };\r\n\r\n  // Export invoice as CSV\r\n  const exportCSV = () => {\r\n    if (!invoiceData) return;\r\n\r\n    const headers = ['Date', 'Task', 'Notes', 'Hours', 'Rate', 'Amount'];\r\n    const rows = selectedLineItems.map(item => [\r\n      item.date,\r\n      item.task,\r\n      item.notes,\r\n      item.hours.toFixed(2),\r\n      item.rate.toFixed(2),\r\n      item.amount.toFixed(2)\r\n    ]);\r\n\r\n    // Add totals row\r\n    rows.push(['', '', 'TOTAL', computedTotals.hours.toFixed(2), '', computedTotals.amount.toFixed(2)]);\r\n\r\n    const csvContent = [headers, ...rows]\r\n      .map(row => row.map(cell => `\"${cell}\"`).join(','))\r\n      .join('\\n');\r\n\r\n    const blob = new Blob([csvContent], { type: 'text/csv' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `invoice-${invoiceData.client.name}-${invoiceData.dateRange.start}-to-${invoiceData.dateRange.end}.csv`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  // Print invoice\r\n  const printInvoice = () => {\r\n    if (!invoiceData) return;\r\n\r\n    const printWindow = window.open('', '_blank');\r\n    const printContent = generatePrintHTML({ ...invoiceData, lineItems: selectedLineItems, totals: computedTotals });\r\n    \r\n    printWindow.document.write(printContent);\r\n    printWindow.document.close();\r\n    printWindow.focus();\r\n    printWindow.print();\r\n  };\r\n\r\n  // Generate HTML for printing\r\n  const generatePrintHTML = (invoice) => {\r\n    return `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <title>Invoice - ${invoice.client.name}</title>\r\n    <style>\r\n        body { font-family: Arial, sans-serif; margin: 40px; color: #333; }\r\n        .header { text-align: center; margin-bottom: 40px; }\r\n        .invoice-title { font-size: 28px; font-weight: bold; color: #2563eb; }\r\n        .invoice-info { display: flex; justify-content: space-between; margin-bottom: 30px; }\r\n        .client-info h3, .invoice-details h3 { margin-top: 0; color: #374151; }\r\n        table { width: 100%; border-collapse: collapse; margin-bottom: 30px; }\r\n        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #e5e7eb; }\r\n        th { background-color: #f9fafb; font-weight: bold; }\r\n        .amount { text-align: right; }\r\n        .totals { font-weight: bold; background-color: #f3f4f6; }\r\n        .footer { margin-top: 40px; text-align: center; color: #6b7280; font-size: 14px; }\r\n        @media print {\r\n            body { margin: 20px; }\r\n            .no-print { display: none; }\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n    <div class=\"header\">\r\n        <div class=\"invoice-title\">INVOICE</div>\r\n        <div style=\"margin-top: 10px; color: #6b7280;\">Mechanic Hours Time Tracking</div>\r\n    </div>\r\n    \r\n    <div class=\"invoice-info\">\r\n        <div class=\"client-info\">\r\n            <h3>Bill To:</h3>\r\n            <div><strong>${invoice.client.name}</strong></div>\r\n            ${invoice.client.contact ? `<div>${invoice.client.contact}</div>` : ''}\r\n        </div>\r\n        \r\n        <div class=\"invoice-details\">\r\n            <h3>Invoice Details:</h3>\r\n            <div><strong>Invoice #:</strong> ${invoice.invoiceNumber}</div>\r\n            <div><strong>Date:</strong> ${invoice.generatedDate}</div>\r\n            <div><strong>Period:</strong> ${invoice.dateRange.start} - ${invoice.dateRange.end}</div>\r\n        </div>\r\n    </div>\r\n    \r\n    <table>\r\n        <thead>\r\n            <tr>\r\n                <th>Date</th>\r\n                <th>Task</th>\r\n                <th>Notes</th>\r\n                <th>Hours</th>\r\n                <th>Rate</th>\r\n                <th class=\"amount\">Amount</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            ${invoice.lineItems.map(item => `\r\n                <tr>\r\n                    <td>${item.date}</td>\r\n                    <td>${item.task}</td>\r\n                    <td>${item.notes}</td>\r\n                    <td>${item.hours.toFixed(2)}</td>\r\n                    <td>${dataService.formatCurrency(item.rate)}</td>\r\n                    <td class=\"amount\">${dataService.formatCurrency(item.amount)}</td>\r\n                </tr>\r\n            `).join('')}\r\n      <tr class=\"totals\">\r\n        <td colspan=\"3\">TOTAL</td>\r\n        <td><strong>${invoice.totals.hours.toFixed(2)}</strong></td>\r\n        <td></td>\r\n        <td class=\"amount\"><strong>${dataService.formatCurrency(invoice.totals.amount)}</strong></td>\r\n      </tr>\r\n        </tbody>\r\n    </table>\r\n    \r\n    <div class=\"footer\">\r\n        <p>Generated by Mechanic Hours - www.context7.com</p>\r\n        <p>Thank you for your business!</p>\r\n    </div>\r\n</body>\r\n</html>\r\n    `;\r\n  };\r\n\r\n  // Clear invoice\r\n  const clearInvoice = () => {\r\n    setInvoiceData(null);\r\n    setSelectedClient('');\r\n    setStartDate('');\r\n    setEndDate('');\r\n    setSelectedIds(new Set());\r\n    setFinalized(false);\r\n  };\r\n\r\n  // Set quick date ranges\r\n  const setThisWeek = () => {\r\n    const now = new Date();\r\n    const startOfWeek = new Date(now);\r\n    startOfWeek.setDate(now.getDate() - now.getDay()); // Start of week (Sunday)\r\n    \r\n    setStartDate(startOfWeek.toISOString().slice(0, 10));\r\n    setEndDate(now.toISOString().slice(0, 10));\r\n  };\r\n\r\n  const setThisMonth = () => {\r\n    const now = new Date();\r\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\r\n    \r\n    setStartDate(startOfMonth.toISOString().slice(0, 10));\r\n    setEndDate(now.toISOString().slice(0, 10));\r\n  };\r\n\r\n  const setLastMonth = () => {\r\n    const now = new Date();\r\n    const startOfLastMonth = new Date(now.getFullYear(), now.getMonth() - 1, 1);\r\n    const endOfLastMonth = new Date(now.getFullYear(), now.getMonth(), 0);\r\n    \r\n    setStartDate(startOfLastMonth.toISOString().slice(0, 10));\r\n    setEndDate(endOfLastMonth.toISOString().slice(0, 10));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n  {!invoiceData ? (\r\n        <>\r\n          {/* Invoice Generation Form */}\r\n          <Card>\r\n            <h2 className=\"text-xl font-bold mb-4\">Generate Invoice</h2>\r\n            \r\n            <Select\r\n              label=\"Client\"\r\n              value={selectedClient}\r\n              onChange={(e) => setSelectedClient(e.target.value)}\r\n              options={clientOptions}\r\n              placeholder=\"Select a client\"\r\n            />\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              <Input\r\n                label=\"Start Date\"\r\n                type=\"date\"\r\n                value={startDate}\r\n                onChange={(e) => setStartDate(e.target.value)}\r\n              />\r\n              \r\n              <Input\r\n                label=\"End Date\"\r\n                type=\"date\"\r\n                value={endDate}\r\n                onChange={(e) => setEndDate(e.target.value)}\r\n              />\r\n            </div>\r\n            \r\n            {/* Quick Date Buttons */}\r\n            <div className=\"flex flex-wrap gap-2 mb-4\">\r\n              <Button variant=\"secondary\" size=\"small\" onClick={setThisWeek}>\r\n                This Week\r\n              </Button>\r\n              <Button variant=\"secondary\" size=\"small\" onClick={setThisMonth}>\r\n                This Month\r\n              </Button>\r\n              <Button variant=\"secondary\" size=\"small\" onClick={setLastMonth}>\r\n                Last Month\r\n              </Button>\r\n            </div>\r\n            \r\n            <Button \r\n              onClick={generateInvoice}\r\n              className=\"w-full\"\r\n              disabled={!selectedClient || !startDate || !endDate}\r\n            >\r\n              ðŸ“„ Generate Invoice\r\n            </Button>\r\n          </Card>\r\n\r\n          {/* Summary Statistics */}\r\n          {appData.clients.length > 0 && (\r\n            <Card>\r\n              <h3 className=\"text-lg font-semibold mb-4\">Quick Stats</h3>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-center\">\r\n                <div>\r\n                  <div className=\"text-2xl font-bold text-primary-600\">\r\n                    {appData.clients.length}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-600\">Active Clients</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-2xl font-bold text-green-600\">\r\n                    {appData.entries.filter(e => e.end).length}\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-600\">Completed Entries</div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"text-2xl font-bold text-blue-600\">\r\n                    {dataService.calculateTotalHours(appData.entries.filter(e => e.end)).toFixed(1)}h\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-600\">Total Hours</div>\r\n                </div>\r\n              </div>\r\n            </Card>\r\n          )}\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Card>\r\n            <div className=\"flex justify-between items-start mb-4\">\r\n              <div>\r\n                <h2 className=\"text-xl font-bold\">Invoice</h2>\r\n                <p className=\"text-sm text-gray-500\">{invoiceData.invoiceNumber}{!finalized && ' (Draft)'}</p>\r\n                <p className=\"text-xs text-gray-500\">{invoiceData.dateRange.start} - {invoiceData.dateRange.end}</p>\r\n              </div>\r\n              <Button variant=\"secondary\" size=\"small\" onClick={clearInvoice}>Back</Button>\r\n            </div>\r\n            <div className=\"mb-4\">\r\n              <div className=\"font-semibold\">{invoiceData.client.name}</div>\r\n              {invoiceData.client.contact && <div className=\"text-xs text-gray-400\">{invoiceData.client.contact}</div>}\r\n            </div>\r\n\r\n            {!finalized && (\r\n              <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                <Button size=\"small\" variant=\"secondary\" onClick={selectAll}>Select All</Button>\r\n                <Button size=\"small\" variant=\"secondary\" onClick={clearAll}>Clear All</Button>\r\n                <Button size=\"small\" onClick={finalizeInvoice} disabled={selectedIds.size === 0}>Finalize & Mark Invoiced</Button>\r\n              </div>\r\n            )}\r\n\r\n            {finalized && (\r\n              <div className=\"mb-2 text-xs text-green-600 font-medium\">Finalized â€¢ {selectedIds.size} items marked invoiced</div>\r\n            )}\r\n            <div className=\"activity-list\">\r\n              {invoiceData.lineItems.map(item => {\r\n                const checked = selectedIds.has(item.id);\r\n                const disabled = finalized;\r\n                return (\r\n                <div key={item.id} className={`individual-job-card ${!checked ? 'opacity-50' : ''}`} style={{position:'relative'}}>\r\n                  {!finalized && (\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={checked}\r\n                      onChange={() => toggleLineItem(item.id)}\r\n                      style={{position:'absolute', top:6, left:6, width:16, height:16}}\r\n                      disabled={disabled}\r\n                      title=\"Include in invoice\"\r\n                    />\r\n                  )}\r\n                  <div className=\"job-card-content\">\r\n                    <div className=\"job-main-info\">\r\n                      <div className=\"job-title\">{item.task}</div>\r\n                      <div className=\"job-time\">{item.date} â€¢ {item.hours.toFixed(2)}h @ {dataService.formatCurrency(item.rate)}</div>\r\n                      {item.notes && <div className=\"job-notes\">{item.notes}</div>}\r\n                    </div>\r\n                    <div className=\"job-actions\" style={{alignItems:'flex-end'}}>\r\n                      <div className=\"stat-value stat-value-success\" style={{fontSize:'0.85rem'}}>{dataService.formatCurrency(item.amount)}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )})}\r\n            </div>\r\n            <div className=\"separator\" />\r\n            <div className=\"flex justify-between text-sm font-semibold\">\r\n              <span>Total Hours</span>\r\n              <span>{computedTotals.hours.toFixed(2)}h</span>\r\n            </div>\r\n            <div className=\"flex justify-between text-sm font-semibold mt-2\">\r\n              <span>Total Amount</span>\r\n              <span>{dataService.formatCurrency(computedTotals.amount)}</span>\r\n            </div>\r\n            <div className=\"flex gap-2 mt-4\">\r\n              <Button onClick={printInvoice} className=\"flex-1\" size=\"small\">Print</Button>\r\n              <Button variant=\"secondary\" onClick={exportCSV} className=\"flex-1\" size=\"small\">CSV</Button>\r\n            </div>\r\n          </Card>\r\n        </>\r\n      )}\r\n      \r\n      {/* Help Text */}\r\n      {appData.entries.filter(e => e.end).length === 0 && (\r\n        <Card>\r\n          <div className=\"text-center py-6 text-gray-600\">\r\n            <p className=\"mb-2\">No completed time entries found.</p>\r\n            <p>Start tracking time to generate invoices!</p>\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InvoiceTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}