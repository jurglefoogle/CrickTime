{"ast":null,"code":"import _objectSpread from\"C:/Users/jurgl/HTMLProjects/CrickTime/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import Card from'../ui/Card';import Button from'../ui/Button';import{dataService}from'../../utils/dataService';/**\r\n * Timer Tab Component\r\n * Reference: www.context7.com for timer implementation patterns\r\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TimerTab=_ref=>{var _appData$entries$find;let{appData,updateAppData}=_ref;const[selectedClient,setSelectedClient]=useState('');const[taskName,setTaskName]=useState('');// free text for new job\nconst[selectedJobId,setSelectedJobId]=useState('');const[notes,setNotes]=useState('');const[currentTime,setCurrentTime]=useState(Date.now());const[isTimerActive,setIsTimerActive]=useState(false);// Update current time every second when timer is active\nuseEffect(()=>{let interval;if(isTimerActive){interval=setInterval(()=>{setCurrentTime(Date.now());},1000);}return()=>clearInterval(interval);},[isTimerActive]);// Check if there's an active timer on mount\nuseEffect(()=>{if(appData.active){const activeEntry=appData.entries.find(e=>e.id===appData.active.entryId);if(activeEntry&&!activeEntry.end){setIsTimerActive(true);setSelectedClient(activeEntry.clientId);setTaskName(activeEntry.taskName||'');if(activeEntry.jobId)setSelectedJobId(activeEntry.jobId);setNotes(activeEntry.notes||'');}}},[appData.active,appData.entries]);// Get client options for select\nconst clientOptions=appData.clients.map(client=>({value:client.id,label:client.name}));// Calculate elapsed time for active timer\nconst getElapsedTime=()=>{if(!isTimerActive||!appData.active)return 0;const activeEntry=appData.entries.find(e=>e.id===appData.active.entryId);if(!activeEntry)return 0;return currentTime-activeEntry.start;};// Start timer\nconst startTimer=()=>{if(!selectedClient||!taskName.trim()&&!selectedJobId){alert('Please select a client and choose or enter a job name before starting the timer.');return;}// Resolve or create job (atomic update)\nconst existingJobs=appData.jobs||[];let jobId=selectedJobId;let resolvedTaskName=taskName.trim();let nextJobs=existingJobs;if(!jobId){const existing=existingJobs.find(j=>!j.closed&&j.name.toLowerCase()===resolvedTaskName.toLowerCase());if(existing){jobId=existing.id;}else{const newJob={id:dataService.generateId(),name:resolvedTaskName,closed:false,createdAt:Date.now()};nextJobs=[...existingJobs,newJob];jobId=newJob.id;}}else{const jobObj=existingJobs.find(j=>j.id===jobId);if(jobObj)resolvedTaskName=jobObj.name;}const newEntry={id:dataService.generateId(),clientId:selectedClient,taskName:resolvedTaskName,jobId,start:Date.now(),end:null,notes};updateAppData({jobs:nextJobs,entries:[...appData.entries,newEntry],active:{entryId:newEntry.id}});setIsTimerActive(true);};// Stop timer\nconst stopTimer=()=>{if(!appData.active)return;const updatedEntries=appData.entries.map(entry=>{if(entry.id===appData.active.entryId){return _objectSpread(_objectSpread({},entry),{},{end:Date.now(),notes:notes});}return entry;});updateAppData({entries:updatedEntries,active:null});setIsTimerActive(false);setNotes('');setTaskName('');setSelectedJobId('');};// Update notes for active timer\nconst updateNotes=newNotes=>{setNotes(newNotes);if(isTimerActive&&appData.active){const updatedEntries=appData.entries.map(entry=>{if(entry.id===appData.active.entryId){return _objectSpread(_objectSpread({},entry),{},{notes:newNotes});}return entry;});updateAppData({entries:updatedEntries});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"tab-content\",children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"timer-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"timer-display \".concat(isTimerActive?'timer-active':''),children:dataService.formatDuration(getElapsedTime())}),isTimerActive&&/*#__PURE__*/_jsxs(\"div\",{className:\"timer-start-time\",children:[\"Timer started at \",dataService.formatTime((_appData$entries$find=appData.entries.find(e=>{var _appData$active;return e.id===((_appData$active=appData.active)===null||_appData$active===void 0?void 0:_appData$active.entryId);}))===null||_appData$entries$find===void 0?void 0:_appData$entries$find.start)]}),/*#__PURE__*/_jsx(\"div\",{className:\"timer-controls\",children:!isTimerActive?/*#__PURE__*/_jsx(Button,{onClick:startTimer,className:\"btn-start\",size:\"large\",children:\"\\u25B6\\uFE0F START\"}):/*#__PURE__*/_jsx(Button,{onClick:stopTimer,className:\"btn-stop\",size:\"large\",children:\"\\u23F9\\uFE0F STOP\"})})]})}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Work Details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"Client\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"select\",value:selectedClient,onChange:e=>setSelectedClient(e.target.value),disabled:isTimerActive,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a client\"}),clientOptions.map(option=>/*#__PURE__*/_jsx(\"option\",{value:option.value,children:option.label},option.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"Job\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"select mb-1\",value:selectedJobId,onChange:e=>{setSelectedJobId(e.target.value);if(e.target.value)setTaskName('');},disabled:isTimerActive,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Existing Job --\"}),(appData.jobs||[]).filter(j=>!j.closed).sort((a,b)=>a.name.localeCompare(b.name)).map(job=>/*#__PURE__*/_jsx(\"option\",{value:job.id,children:job.name},job.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input\",value:taskName,onChange:e=>{setTaskName(e.target.value);if(e.target.value)setSelectedJobId('');},placeholder:\"Type new job name...\",disabled:isTimerActive}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:\"Choose existing open job or type a new one.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"input-label\",children:\"Notes\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"input\",rows:\"2\",value:notes,onChange:e=>updateNotes(e.target.value),placeholder:\"Add notes...\"})]})]})]}),appData.clients.length===0&&/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"empty-state-text\",children:\"Add clients to start tracking time\"}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"small\",children:\"Add Client\"})]})}),appData.entries.length>0&&/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"card-title\",children:\"Recent Activity\"}),/*#__PURE__*/_jsx(\"div\",{className:\"activity-list\",children:appData.entries.filter(entry=>entry.end)// Only completed entries\n.slice(-3)// Last 3 entries\n.reverse()// Most recent first\n.map(entry=>{const client=appData.clients.find(c=>c.id===entry.clientId);const duration=entry.end-entry.start;return/*#__PURE__*/_jsxs(\"div\",{className:\"activity-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"activity-main\",children:[client===null||client===void 0?void 0:client.name,\" - \",entry.taskName||'Unknown Task']}),/*#__PURE__*/_jsxs(\"div\",{className:\"activity-meta\",children:[dataService.formatDate(entry.start),\" \\u2022 \",dataService.formatDuration(duration)]}),entry.notes&&/*#__PURE__*/_jsx(\"div\",{className:\"activity-notes\",children:entry.notes})]},entry.id);})})]})]});};export default TimerTab;","map":{"version":3,"names":["React","useState","useEffect","Card","Button","dataService","jsx","_jsx","jsxs","_jsxs","TimerTab","_ref","_appData$entries$find","appData","updateAppData","selectedClient","setSelectedClient","taskName","setTaskName","selectedJobId","setSelectedJobId","notes","setNotes","currentTime","setCurrentTime","Date","now","isTimerActive","setIsTimerActive","interval","setInterval","clearInterval","active","activeEntry","entries","find","e","id","entryId","end","clientId","jobId","clientOptions","clients","map","client","value","label","name","getElapsedTime","start","startTimer","trim","alert","existingJobs","jobs","resolvedTaskName","nextJobs","existing","j","closed","toLowerCase","newJob","generateId","createdAt","jobObj","newEntry","stopTimer","updatedEntries","entry","_objectSpread","updateNotes","newNotes","className","children","concat","formatDuration","formatTime","_appData$active","onClick","size","onChange","target","disabled","option","filter","sort","a","b","localeCompare","job","type","placeholder","rows","length","variant","slice","reverse","c","duration","formatDate"],"sources":["C:/Users/jurgl/HTMLProjects/CrickTime/src/components/tabs/TimerTab.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Card from '../ui/Card';\r\nimport Button from '../ui/Button';\r\nimport { dataService } from '../../utils/dataService';\r\n\r\n/**\r\n * Timer Tab Component\r\n * Reference: www.context7.com for timer implementation patterns\r\n */\r\nconst TimerTab = ({ appData, updateAppData }) => {\r\n  const [selectedClient, setSelectedClient] = useState('');\r\n  const [taskName, setTaskName] = useState(''); // free text for new job\r\n  const [selectedJobId, setSelectedJobId] = useState('');\r\n  const [notes, setNotes] = useState('');\r\n  const [currentTime, setCurrentTime] = useState(Date.now());\r\n  const [isTimerActive, setIsTimerActive] = useState(false);\r\n\r\n  // Update current time every second when timer is active\r\n  useEffect(() => {\r\n    let interval;\r\n    if (isTimerActive) {\r\n      interval = setInterval(() => {\r\n        setCurrentTime(Date.now());\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [isTimerActive]);\r\n\r\n  // Check if there's an active timer on mount\r\n  useEffect(() => {\r\n    if (appData.active) {\r\n      const activeEntry = appData.entries.find(e => e.id === appData.active.entryId);\r\n      if (activeEntry && !activeEntry.end) {\r\n        setIsTimerActive(true);\r\n        setSelectedClient(activeEntry.clientId);\r\n  setTaskName(activeEntry.taskName || '');\r\n  if (activeEntry.jobId) setSelectedJobId(activeEntry.jobId);\r\n        setNotes(activeEntry.notes || '');\r\n      }\r\n    }\r\n  }, [appData.active, appData.entries]);\r\n\r\n  // Get client options for select\r\n  const clientOptions = appData.clients.map(client => ({\r\n    value: client.id,\r\n    label: client.name\r\n  }));\r\n\r\n  // Calculate elapsed time for active timer\r\n  const getElapsedTime = () => {\r\n    if (!isTimerActive || !appData.active) return 0;\r\n    \r\n    const activeEntry = appData.entries.find(e => e.id === appData.active.entryId);\r\n    if (!activeEntry) return 0;\r\n    \r\n    return currentTime - activeEntry.start;\r\n  };\r\n\r\n  // Start timer\r\n  const startTimer = () => {\r\n    if (!selectedClient || (!taskName.trim() && !selectedJobId)) {\r\n      alert('Please select a client and choose or enter a job name before starting the timer.');\r\n      return;\r\n    }\r\n    // Resolve or create job (atomic update)\r\n    const existingJobs = appData.jobs || [];\r\n    let jobId = selectedJobId;\r\n    let resolvedTaskName = taskName.trim();\r\n    let nextJobs = existingJobs;\r\n    if (!jobId) {\r\n      const existing = existingJobs.find(j => !j.closed && j.name.toLowerCase() === resolvedTaskName.toLowerCase());\r\n      if (existing) {\r\n        jobId = existing.id;\r\n      } else {\r\n        const newJob = { id: dataService.generateId(), name: resolvedTaskName, closed: false, createdAt: Date.now() };\r\n        nextJobs = [...existingJobs, newJob];\r\n        jobId = newJob.id;\r\n      }\r\n    } else {\r\n      const jobObj = existingJobs.find(j => j.id === jobId);\r\n      if (jobObj) resolvedTaskName = jobObj.name;\r\n    }\r\n\r\n    const newEntry = {\r\n      id: dataService.generateId(),\r\n      clientId: selectedClient,\r\n      taskName: resolvedTaskName,\r\n      jobId,\r\n      start: Date.now(),\r\n      end: null,\r\n      notes\r\n    };\r\n\r\n    updateAppData({\r\n      jobs: nextJobs,\r\n      entries: [...appData.entries, newEntry],\r\n      active: { entryId: newEntry.id }\r\n    });\r\n\r\n    setIsTimerActive(true);\r\n  };\r\n\r\n  // Stop timer\r\n  const stopTimer = () => {\r\n    if (!appData.active) return;\r\n\r\n    const updatedEntries = appData.entries.map(entry => {\r\n      if (entry.id === appData.active.entryId) {\r\n        return {\r\n          ...entry,\r\n          end: Date.now(),\r\n          notes: notes\r\n        };\r\n      }\r\n      return entry;\r\n    });\r\n\r\n    updateAppData({\r\n      entries: updatedEntries,\r\n      active: null\r\n    });\r\n\r\n    setIsTimerActive(false);\r\n    setNotes('');\r\n  setTaskName('');\r\n  setSelectedJobId('');\r\n  };\r\n\r\n  // Update notes for active timer\r\n  const updateNotes = (newNotes) => {\r\n    setNotes(newNotes);\r\n    \r\n    if (isTimerActive && appData.active) {\r\n      const updatedEntries = appData.entries.map(entry => {\r\n        if (entry.id === appData.active.entryId) {\r\n          return { ...entry, notes: newNotes };\r\n        }\r\n        return entry;\r\n      });\r\n      \r\n      updateAppData({ entries: updatedEntries });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"tab-content\">\r\n      {/* Timer Display */}\r\n      <Card>\r\n        <div className=\"timer-section\">\r\n          <div className={`timer-display ${isTimerActive ? 'timer-active' : ''}`}>\r\n            {dataService.formatDuration(getElapsedTime())}\r\n          </div>\r\n          \r\n          {isTimerActive && (\r\n            <div className=\"timer-start-time\">\r\n              Timer started at {dataService.formatTime(\r\n                appData.entries.find(e => e.id === appData.active?.entryId)?.start\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"timer-controls\">\r\n            {!isTimerActive ? (\r\n              <Button \r\n                onClick={startTimer}\r\n                className=\"btn-start\"\r\n                size=\"large\"\r\n              >\r\n                ▶️ START\r\n              </Button>\r\n            ) : (\r\n              <Button \r\n                onClick={stopTimer}\r\n                className=\"btn-stop\"\r\n                size=\"large\"\r\n              >\r\n                ⏹️ STOP\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Work Details */}\r\n      <Card>\r\n        <h3 className=\"card-title\">Work Details</h3>\r\n        \r\n        <div className=\"form-group\">\r\n          <div className=\"input-group\">\r\n            <label className=\"input-label\">Client</label>\r\n            <select\r\n              className=\"select\"\r\n              value={selectedClient}\r\n              onChange={(e) => setSelectedClient(e.target.value)}\r\n              disabled={isTimerActive}\r\n            >\r\n              <option value=\"\">Select a client</option>\r\n              {clientOptions.map(option => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"input-group\">\r\n            <label className=\"input-label\">Job</label>\r\n            <select\r\n              className=\"select mb-1\"\r\n              value={selectedJobId}\r\n              onChange={(e)=> { setSelectedJobId(e.target.value); if(e.target.value) setTaskName(''); }}\r\n              disabled={isTimerActive}\r\n            >\r\n              <option value=\"\">-- Select Existing Job --</option>\r\n              {(appData.jobs||[]).filter(j=>!j.closed).sort((a,b)=>a.name.localeCompare(b.name)).map(job => (\r\n                <option key={job.id} value={job.id}>{job.name}</option>\r\n              ))}\r\n            </select>\r\n            <input\r\n              type=\"text\"\r\n              className=\"input\"\r\n              value={taskName}\r\n              onChange={(e) => { setTaskName(e.target.value); if(e.target.value) setSelectedJobId(''); }}\r\n              placeholder=\"Type new job name...\"\r\n              disabled={isTimerActive}\r\n            />\r\n            <div className=\"text-xs text-gray-500 mt-1\">Choose existing open job or type a new one.</div>\r\n          </div>\r\n\r\n          <div className=\"input-group\">\r\n            <label className=\"input-label\">Notes</label>\r\n            <textarea\r\n              className=\"input\"\r\n              rows=\"2\"\r\n              value={notes}\r\n              onChange={(e) => updateNotes(e.target.value)}\r\n              placeholder=\"Add notes...\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Quick Actions */}\r\n      {appData.clients.length === 0 && (\r\n        <Card>\r\n          <div className=\"empty-state\">\r\n            <p className=\"empty-state-text\">\r\n              Add clients to start tracking time\r\n            </p>\r\n            <Button variant=\"secondary\" size=\"small\">\r\n              Add Client\r\n            </Button>\r\n          </div>\r\n        </Card>\r\n      )}\r\n\r\n      {/* Recent Activity */}\r\n      {appData.entries.length > 0 && (\r\n        <Card>\r\n          <h3 className=\"card-title\">Recent Activity</h3>\r\n          <div className=\"activity-list\">\r\n            {appData.entries\r\n              .filter(entry => entry.end) // Only completed entries\r\n              .slice(-3) // Last 3 entries\r\n              .reverse() // Most recent first\r\n              .map(entry => {\r\n                const client = appData.clients.find(c => c.id === entry.clientId);\r\n                const duration = entry.end - entry.start;\r\n                \r\n                return (\r\n                  <div key={entry.id} className=\"activity-item\">\r\n                    <div className=\"activity-main\">\r\n                      {client?.name} - {entry.taskName || 'Unknown Task'}\r\n                    </div>\r\n                    <div className=\"activity-meta\">\r\n                      {dataService.formatDate(entry.start)} • {dataService.formatDuration(duration)}\r\n                    </div>\r\n                    {entry.notes && (\r\n                      <div className=\"activity-notes\">\r\n                        {entry.notes}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TimerTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}