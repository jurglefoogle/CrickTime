{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jurgl\\\\HTMLProjects\\\\CrickTime\\\\src\\\\components\\\\tabs\\\\JobsTab.js\",\n  _s = $RefreshSig$();\nimport React, { useMemo, useEffect, useState } from 'react';\nimport Card from '../ui/Card';\nimport Button from '../ui/Button';\nimport { dataService } from '../../utils/dataService';\n\n/**\r\n * Jobs Tab\r\n * Shows open & closed jobs with ability to close and invoice.\r\n */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst JobsTab = ({\n  appData,\n  updateAppData,\n  onNavigate,\n  onInvoiceJob\n}) => {\n  _s();\n  const jobs = appData.jobs || [];\n  const charges = appData.charges || [];\n  const [expandedChargesJobId, setExpandedChargesJobId] = useState(null);\n  const [chargeForm, setChargeForm] = useState({\n    kind: 'part',\n    description: '',\n    quantity: '1',\n    unitCost: '',\n    unitPrice: '',\n    clientId: '',\n    category: ''\n  });\n  const [editingChargeId, setEditingChargeId] = useState(null);\n  const [editDraft, setEditDraft] = useState(null); // { id, description, quantity, unitCost, unitPrice, category }\n  const [showBulkAdd, setShowBulkAdd] = useState(false);\n  const [bulkText, setBulkText] = useState('');\n  useEffect(() => {\n    const entries = appData.entries || [];\n    const currentJobs = appData.jobs || [];\n    const missingJobEntries = entries.filter(e => e.taskName && (!e.jobId || !currentJobs.find(j => j.id === e.jobId)));\n    if (!missingJobEntries.length) return;\n    const additions = [];\n    const updates = [];\n    missingJobEntries.forEach(e => {\n      const name = e.taskName.trim();\n      let job = currentJobs.find(j => j.name.toLowerCase() === name.toLowerCase());\n      if (!job) {\n        job = {\n          id: dataService.generateId(),\n          name,\n          closed: false,\n          createdAt: Date.now()\n        };\n        additions.push(job);\n      }\n      if (!e.jobId) updates.push({\n        entryId: e.id,\n        jobId: job.id\n      });\n    });\n    if (additions.length || updates.length) {\n      const updatedJobs = [...currentJobs, ...additions];\n      const updatedEntries = entries.map(e => {\n        const upd = updates.find(u => u.entryId === e.id);\n        return upd ? {\n          ...e,\n          jobId: upd.jobId\n        } : e;\n      });\n      updateAppData({\n        jobs: updatedJobs,\n        entries: updatedEntries\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Legacy auto-derivation removed.\n\n  const openJobs = jobs.filter(j => !j.closed);\n  const closedJobs = jobs.filter(j => j.closed);\n\n  // Aggregate metrics for jobs\n  const jobStats = useMemo(() => {\n    const map = {};\n    (appData.entries || []).forEach(e => {\n      const jobId = e.jobId;\n      if (!jobId) return;\n      if (!map[jobId]) map[jobId] = {\n        hours: 0,\n        amount: 0\n      };\n      if (e.end) {\n        const client = appData.clients.find(c => c.id === e.clientId);\n        const hours = dataService.durationToHours(e.end - e.start);\n        map[jobId].hours += hours;\n        map[jobId].amount += client ? hours * client.rate : 0;\n      }\n    });\n    return map;\n  }, [appData.entries, appData.clients]);\n  const closeJob = job => {\n    if (!window.confirm(`Close job \"${job.name}\"? It will be hidden from selection.`)) return;\n    updateAppData({\n      jobs: jobs.map(j => j.id === job.id ? {\n        ...j,\n        closed: true,\n        closedAt: Date.now()\n      } : j)\n    });\n  };\n  const reopenJob = job => {\n    updateAppData({\n      jobs: jobs.map(j => j.id === job.id ? {\n        ...j,\n        closed: false,\n        closedAt: null\n      } : j)\n    });\n  };\n\n  // ---- Charges Helpers (Phase 1 Parts & Expenses) ----\n  const chargesForJob = jobId => charges.filter(c => c.jobId === jobId);\n  const addCharge = job => {\n    var _appData$entries$find, _appData$clients$;\n    const desc = chargeForm.description.trim();\n    if (!desc) {\n      alert('Description required');\n      return;\n    }\n    const qty = parseFloat(chargeForm.quantity) || 0;\n    if (qty <= 0) {\n      alert('Quantity must be > 0');\n      return;\n    }\n    const unitCost = parseFloat(chargeForm.unitCost) || 0;\n    if (unitCost < 0) {\n      alert('Unit cost >= 0');\n      return;\n    }\n    const unitPrice = chargeForm.unitPrice ? parseFloat(chargeForm.unitPrice) : unitCost;\n    if (unitPrice < 0) {\n      alert('Unit price >= 0');\n      return;\n    }\n    const amountCached = qty * unitPrice;\n    // Determine client: prefer explicit selection on form if present\n    const inferredClientId = ((_appData$entries$find = appData.entries.find(e => e.jobId === job.id)) === null || _appData$entries$find === void 0 ? void 0 : _appData$entries$find.clientId) || chargeForm.clientId || ((_appData$clients$ = appData.clients[0]) === null || _appData$clients$ === void 0 ? void 0 : _appData$clients$.id) || '';\n    if (!inferredClientId) {\n      alert('Select a client for this charge.');\n      return;\n    }\n    const newCharge = {\n      id: dataService.generateId(),\n      jobId: job.id,\n      clientId: inferredClientId,\n      kind: chargeForm.kind,\n      description: desc,\n      quantity: qty,\n      unitCost,\n      unitPrice,\n      category: chargeForm.kind === 'expense' ? chargeForm.category || 'other' : undefined,\n      amountCached,\n      createdAt: Date.now(),\n      invoiced: false\n    };\n    updateAppData({\n      charges: [...charges, newCharge]\n    });\n    setChargeForm({\n      kind: 'part',\n      description: '',\n      quantity: '1',\n      unitCost: '',\n      unitPrice: '',\n      clientId: chargeForm.clientId || ''\n    });\n  };\n  const deleteCharge = chargeId => {\n    if (!window.confirm('Delete this charge?')) return;\n    updateAppData({\n      charges: charges.filter(c => c.id !== chargeId)\n    });\n  };\n  const beginEdit = charge => {\n    if (charge.invoiced) return;\n    setEditingChargeId(charge.id);\n    setEditDraft({\n      ...charge,\n      quantity: String(charge.quantity),\n      unitCost: String(charge.unitCost),\n      unitPrice: String(charge.unitPrice),\n      description: charge.description,\n      category: charge.category || ''\n    });\n  };\n  const cancelEdit = () => {\n    setEditingChargeId(null);\n    setEditDraft(null);\n  };\n  const saveEdit = () => {\n    if (!editDraft) return;\n    const desc = editDraft.description.trim();\n    if (!desc) {\n      alert('Description required');\n      return;\n    }\n    const qty = parseFloat(editDraft.quantity) || 0;\n    if (qty <= 0) {\n      alert('Qty > 0');\n      return;\n    }\n    const unitCost = parseFloat(editDraft.unitCost) || 0;\n    if (unitCost < 0) {\n      alert('Cost >=0');\n      return;\n    }\n    const unitPrice = parseFloat(editDraft.unitPrice) || 0;\n    if (unitPrice < 0) {\n      alert('Price >=0');\n      return;\n    }\n    const amountCached = qty * unitPrice;\n    const updated = charges.map(c => c.id === editDraft.id ? {\n      ...c,\n      description: desc,\n      quantity: qty,\n      unitCost,\n      unitPrice,\n      amountCached,\n      category: c.kind === 'expense' ? editDraft.category || 'other' : undefined\n    } : c);\n    updateAppData({\n      charges: updated\n    });\n    cancelEdit();\n  };\n  const parseBulk = job => {\n    const lines = bulkText.split(/\\r?\\n/).map(l => l.trim()).filter(l => l);\n    if (!lines.length) {\n      alert('No lines to import');\n      return;\n    }\n    const newOnes = [];\n    for (const line of lines) {\n      var _appData$entries$find2, _appData$clients$2;\n      // description,qty,cost,price,kind(optional),category(optional)\n      const parts = line.split(',').map(p => p.trim());\n      if (parts.length < 4) {\n        continue;\n      }\n      let [description, qtyStr, costStr, priceStr, kindStr, catStr] = parts;\n      const qty = parseFloat(qtyStr) || 0;\n      if (qty <= 0) continue;\n      const unitCost = parseFloat(costStr) || 0;\n      if (unitCost < 0) continue;\n      const unitPrice = parseFloat(priceStr);\n      const finalPrice = isNaN(unitPrice) ? unitCost : unitPrice;\n      const kind = kindStr === 'expense' || kindStr === 'part' ? kindStr : 'part';\n      const category = kind === 'expense' ? catStr || 'other' : undefined;\n      const amountCached = qty * finalPrice;\n      const inferredClientId = ((_appData$entries$find2 = appData.entries.find(e => e.jobId === job.id)) === null || _appData$entries$find2 === void 0 ? void 0 : _appData$entries$find2.clientId) || chargeForm.clientId || ((_appData$clients$2 = appData.clients[0]) === null || _appData$clients$2 === void 0 ? void 0 : _appData$clients$2.id) || '';\n      newOnes.push({\n        id: dataService.generateId(),\n        jobId: job.id,\n        clientId: inferredClientId,\n        kind,\n        description,\n        quantity: qty,\n        unitCost,\n        unitPrice: finalPrice,\n        amountCached,\n        createdAt: Date.now(),\n        invoiced: false,\n        category\n      });\n    }\n    if (!newOnes.length) {\n      alert('No valid lines parsed');\n      return;\n    }\n    updateAppData({\n      charges: [...charges, ...newOnes]\n    });\n    setBulkText('');\n    setShowBulkAdd(false);\n  };\n  const formatCurrency = v => dataService.formatCurrency(v);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tab-content\",\n    children: [/*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"page-title\",\n        children: \"Jobs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-400\",\n        children: \"Manage open jobs and invoice work per job.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"card-title\",\n          children: [\"Open Jobs (\", openJobs.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), openJobs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty-state-text\",\n          children: \"No open jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"activity-list\",\n        children: openJobs.sort((a, b) => a.name.localeCompare(b.name)).map(job => {\n          const stats = jobStats[job.id] || {\n            hours: 0,\n            amount: 0\n          };\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"individual-job-card\",\n            style: {\n              marginBottom: 0\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"job-card-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job-main-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-title\",\n                  children: job.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-time\",\n                  children: [stats.hours.toFixed(2), \"h \\u2022 \", dataService.formatCurrency(stats.amount)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 23\n                }, this), job.closed && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-status\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"status-overdue\",\n                    children: \"Closed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 66\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 38\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job-actions\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"primary\",\n                  onClick: () => onInvoiceJob(job.id),\n                  title: \"Invoice job\",\n                  \"aria-label\": `Generate invoice for job ${job.name}`,\n                  children: \"\\uD83D\\uDCB5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"secondary\",\n                  onClick: () => closeJob(job),\n                  title: \"Close job\",\n                  \"aria-label\": `Close job ${job.name}`,\n                  children: \"\\u2713\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"secondary\",\n                  onClick: () => setExpandedChargesJobId(expandedChargesJobId === job.id ? null : job.id),\n                  \"aria-label\": `Toggle charges for job ${job.name}`,\n                  children: \"\\uD83D\\uDCB2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 19\n            }, this), expandedChargesJobId === job.id && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 p-2 rounded bg-gray-50 border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs font-semibold mb-1\",\n                children: \"Charges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 23\n              }, this), !appData.entries.some(e => e.jobId === job.id) && (appData.clients || []).length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-1\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"border rounded px-1 py-0.5 text-[11px] w-full\",\n                  value: chargeForm.clientId || '',\n                  onChange: e => setChargeForm(f => ({\n                    ...f,\n                    clientId: e.target.value\n                  })),\n                  \"aria-label\": \"Charge client\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- Select Client --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 47\n                  }, this), (appData.clients || []).map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: c.id,\n                    children: c.name\n                  }, c.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 78\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 43\n              }, this), chargesForJob(job.id).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-gray-500 mb-2\",\n                children: \"No charges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"space-y-1 mb-2\",\n                children: [chargesForJob(job.id).map(ch => {\n                  const isEditing = ch.id === editingChargeId;\n                  const margin = ch.unitPrice > 0 ? (ch.unitPrice - ch.unitCost) / ch.unitPrice * 100 : 0;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"bg-white rounded px-2 py-1 border border-gray-200 text-[11px]\",\n                    children: isEditing ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"grid grid-cols-12 gap-1 items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"col-span-3 border rounded px-1 py-0.5\",\n                        value: editDraft.description,\n                        onChange: e => setEditDraft(d => ({\n                          ...d,\n                          description: e.target.value\n                        }))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"col-span-1 border rounded px-1 py-0.5\",\n                        type: \"number\",\n                        value: editDraft.quantity,\n                        onChange: e => setEditDraft(d => ({\n                          ...d,\n                          quantity: e.target.value\n                        }))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 223,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"col-span-1 border rounded px-1 py-0.5\",\n                        type: \"number\",\n                        value: editDraft.unitCost,\n                        onChange: e => setEditDraft(d => ({\n                          ...d,\n                          unitCost: e.target.value\n                        }))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 224,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        className: \"col-span-1 border rounded px-1 py-0.5\",\n                        type: \"number\",\n                        value: editDraft.unitPrice,\n                        onChange: e => setEditDraft(d => ({\n                          ...d,\n                          unitPrice: e.target.value\n                        }))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 225,\n                        columnNumber: 37\n                      }, this), ch.kind === 'expense' && /*#__PURE__*/_jsxDEV(\"select\", {\n                        className: \"col-span-2 border rounded px-1 py-0.5\",\n                        value: editDraft.category,\n                        onChange: e => setEditDraft(d => ({\n                          ...d,\n                          category: e.target.value\n                        })),\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"(cat)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 228,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"shipping\",\n                          children: \"Shipping\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 229,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"disposal\",\n                          children: \"Disposal\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 230,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"diagnostic\",\n                          children: \"Diagnostic\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 231,\n                          columnNumber: 41\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"other\",\n                          children: \"Other\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 232,\n                          columnNumber: 41\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 39\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-span-1 text-right font-medium\",\n                        children: formatCurrency((parseFloat(editDraft.quantity) || 0) * (parseFloat(editDraft.unitPrice) || 0))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 235,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-span-2 flex gap-1 justify-end\",\n                        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"text-green-600\",\n                          onClick: saveEdit,\n                          \"aria-label\": \"Save charge edit\",\n                          children: \"\\u2714\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 237,\n                          columnNumber: 39\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"text-gray-500\",\n                          onClick: cancelEdit,\n                          \"aria-label\": \"Cancel edit\",\n                          children: \"\\u2715\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 238,\n                          columnNumber: 39\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 35\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"truncate\",\n                        title: ch.description,\n                        children: [ch.kind === 'part' ? 'ðŸ§©' : 'ðŸ§¾', \" \", ch.description, \" (\", ch.quantity, \" x \", dataService.formatCurrency(ch.unitPrice), \")\", ch.kind === 'expense' && ch.category ? ` â€¢ ${ch.category}` : '', /*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"ml-1 text-[10px] text-gray-400\",\n                          children: [margin.toFixed(0), \"%\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 245,\n                          columnNumber: 39\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 243,\n                        columnNumber: 37\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          className: \"font-medium\",\n                          children: dataService.formatCurrency(ch.amountCached)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 248,\n                          columnNumber: 39\n                        }, this), !ch.invoiced && /*#__PURE__*/_jsxDEV(_Fragment, {\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"text-blue-600 text-xs\",\n                            onClick: () => beginEdit(ch),\n                            \"aria-label\": \"Edit charge\",\n                            children: \"\\u270E\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 250,\n                            columnNumber: 41\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"text-red-500 text-xs\",\n                            onClick: () => deleteCharge(ch.id),\n                            \"aria-label\": \"Delete charge\",\n                            children: \"\\u2715\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 251,\n                            columnNumber: 41\n                          }, this)]\n                        }, void 0, true)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 247,\n                        columnNumber: 37\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 242,\n                      columnNumber: 35\n                    }, this)\n                  }, ch.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 31\n                  }, this);\n                }), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between text-[11px] font-semibold border-t pt-1 mt-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Charges Total\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: formatCurrency(chargesForJob(job.id).reduce((s, c) => s + c.amountCached, 0))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: !showBulkAdd ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"text-[10px] text-blue-600 underline\",\n                  onClick: () => setShowBulkAdd(true),\n                  \"aria-label\": \"Show bulk add charges\",\n                  children: \"Bulk Add CSV\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                    className: \"w-full border rounded p-1 text-[10px] h-16 mb-1\",\n                    placeholder: \"description,qty,cost,price,kind(optional),category(optional)\",\n                    value: bulkText,\n                    onChange: e => setBulkText(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"text-[10px] bg-blue-600 text-white px-2 py-0.5 rounded\",\n                      onClick: () => parseBulk(job),\n                      \"aria-label\": \"Import bulk charges\",\n                      children: \"Import\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"text-[10px] text-gray-600 underline\",\n                      onClick: () => {\n                        setShowBulkAdd(false);\n                        setBulkText('');\n                      },\n                      \"aria-label\": \"Cancel bulk add\",\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 275,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 267,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-5 gap-1 mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"border rounded px-1 py-0.5 text-[11px] col-span-1\",\n                  value: chargeForm.kind,\n                  onChange: e => setChargeForm(f => ({\n                    ...f,\n                    kind: e.target.value\n                  })),\n                  \"aria-label\": \"Charge kind\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"part\",\n                    children: \"Part\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"expense\",\n                    children: \"Expense\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border rounded px-1 py-0.5 text-[11px] col-span-2\",\n                  placeholder: \"Description\",\n                  value: chargeForm.description,\n                  onChange: e => setChargeForm(f => ({\n                    ...f,\n                    description: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border rounded px-1 py-0.5 text-[11px]\",\n                  placeholder: \"Qty\",\n                  type: \"number\",\n                  min: \"0.01\",\n                  step: \"0.01\",\n                  value: chargeForm.quantity,\n                  onChange: e => setChargeForm(f => ({\n                    ...f,\n                    quantity: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border rounded px-1 py-0.5 text-[11px]\",\n                  placeholder: \"Cost\",\n                  type: \"number\",\n                  min: \"0\",\n                  step: \"0.01\",\n                  value: chargeForm.unitCost,\n                  onChange: e => setChargeForm(f => ({\n                    ...f,\n                    unitCost: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"border rounded px-1 py-0.5 text-[11px] col-span-2\",\n                  placeholder: \"Price\",\n                  type: \"number\",\n                  min: \"0\",\n                  step: \"0.01\",\n                  value: chargeForm.unitPrice,\n                  onChange: e => setChargeForm(f => ({\n                    ...f,\n                    unitPrice: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 25\n                }, this), chargeForm.kind === 'expense' && /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"border rounded px-1 py-0.5 text-[11px] col-span-1\",\n                  value: chargeForm.category,\n                  onChange: e => setChargeForm(f => ({\n                    ...f,\n                    category: e.target.value\n                  })),\n                  \"aria-label\": \"Expense category\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Cat\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"shipping\",\n                    children: \"Ship\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"disposal\",\n                    children: \"Disp\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"diagnostic\",\n                    children: \"Diag\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"other\",\n                    children: \"Other\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"bg-blue-600 hover:bg-blue-700 text-white rounded px-2 py-0.5 text-[11px] col-span-1\",\n                  type: \"button\",\n                  onClick: () => addCharge(job),\n                  title: \"Add charge\",\n                  children: \"Add\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-[10px] text-gray-400\",\n                children: \"Leave Price empty to use Cost. Amount auto-calculated.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 21\n            }, this)]\n          }, job.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"card-title\",\n          children: [\"Closed Jobs (\", closedJobs.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), closedJobs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"empty-state-text\",\n          children: \"No closed jobs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"activity-list\",\n        children: closedJobs.sort((a, b) => b.closedAt - a.closedAt).map(job => {\n          const stats = jobStats[job.id] || {\n            hours: 0,\n            amount: 0\n          };\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"individual-job-card opacity-70\",\n            style: {\n              marginBottom: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"job-card-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job-main-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-title\",\n                  children: job.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-time\",\n                  children: [stats.hours.toFixed(2), \"h \\u2022 \", dataService.formatCurrency(stats.amount)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"job-client text-xs text-gray-400\",\n                  children: [\"Closed \", job.closedAt ? new Date(job.closedAt).toLocaleDateString() : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"job-actions\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"secondary\",\n                  onClick: () => reopenJob(job),\n                  title: \"Re-open job\",\n                  \"aria-label\": `Re-open job ${job.name}`,\n                  children: \"\\u21A9\\uFE0F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  variant: \"primary\",\n                  onClick: () => onInvoiceJob(job.id),\n                  title: \"Invoice again\",\n                  \"aria-label\": `Generate another invoice for job ${job.name}`,\n                  children: \"\\uD83D\\uDCB5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 19\n            }, this)\n          }, job.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 5\n  }, this);\n};\n_s(JobsTab, \"h7WKMGbyCqlUMa+IO08dleNRY0E=\");\n_c = JobsTab;\nexport default JobsTab;\nvar _c;\n$RefreshReg$(_c, \"JobsTab\");","map":{"version":3,"names":["React","useMemo","useEffect","useState","Card","Button","dataService","jsxDEV","_jsxDEV","Fragment","_Fragment","JobsTab","appData","updateAppData","onNavigate","onInvoiceJob","_s","jobs","charges","expandedChargesJobId","setExpandedChargesJobId","chargeForm","setChargeForm","kind","description","quantity","unitCost","unitPrice","clientId","category","editingChargeId","setEditingChargeId","editDraft","setEditDraft","showBulkAdd","setShowBulkAdd","bulkText","setBulkText","entries","currentJobs","missingJobEntries","filter","e","taskName","jobId","find","j","id","length","additions","updates","forEach","name","trim","job","toLowerCase","generateId","closed","createdAt","Date","now","push","entryId","updatedJobs","updatedEntries","map","upd","u","openJobs","closedJobs","jobStats","hours","amount","end","client","clients","c","durationToHours","start","rate","closeJob","window","confirm","closedAt","reopenJob","chargesForJob","addCharge","_appData$entries$find","_appData$clients$","desc","alert","qty","parseFloat","amountCached","inferredClientId","newCharge","undefined","invoiced","deleteCharge","chargeId","beginEdit","charge","String","cancelEdit","saveEdit","updated","parseBulk","lines","split","l","newOnes","line","_appData$entries$find2","_appData$clients$2","parts","p","qtyStr","costStr","priceStr","kindStr","catStr","finalPrice","isNaN","formatCurrency","v","className","children","fileName","_jsxFileName","lineNumber","columnNumber","sort","a","b","localeCompare","stats","style","marginBottom","toFixed","size","variant","onClick","title","some","value","onChange","f","target","ch","isEditing","margin","d","type","reduce","s","placeholder","min","step","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/jurgl/HTMLProjects/CrickTime/src/components/tabs/JobsTab.js"],"sourcesContent":["import React, { useMemo, useEffect, useState } from 'react';\r\nimport Card from '../ui/Card';\r\nimport Button from '../ui/Button';\r\nimport { dataService } from '../../utils/dataService';\r\n\r\n/**\r\n * Jobs Tab\r\n * Shows open & closed jobs with ability to close and invoice.\r\n */\r\nconst JobsTab = ({ appData, updateAppData, onNavigate, onInvoiceJob }) => {\r\n  const jobs = appData.jobs || [];\r\n  const charges = appData.charges || [];\r\n  const [expandedChargesJobId, setExpandedChargesJobId] = useState(null);\r\n  const [chargeForm, setChargeForm] = useState({ kind:'part', description:'', quantity:'1', unitCost:'', unitPrice:'', clientId:'', category:'' });\r\n  const [editingChargeId, setEditingChargeId] = useState(null);\r\n  const [editDraft, setEditDraft] = useState(null); // { id, description, quantity, unitCost, unitPrice, category }\r\n  const [showBulkAdd, setShowBulkAdd] = useState(false);\r\n  const [bulkText, setBulkText] = useState('');\r\n  useEffect(() => {\r\n    const entries = appData.entries || [];\r\n    const currentJobs = appData.jobs || [];\r\n    const missingJobEntries = entries.filter(e => e.taskName && (!e.jobId || !currentJobs.find(j => j.id === e.jobId)));\r\n    if (!missingJobEntries.length) return;\r\n    const additions = [];\r\n    const updates = [];\r\n    missingJobEntries.forEach(e => {\r\n      const name = e.taskName.trim();\r\n      let job = currentJobs.find(j => j.name.toLowerCase() === name.toLowerCase());\r\n      if (!job) {\r\n        job = { id: dataService.generateId(), name, closed: false, createdAt: Date.now() };\r\n        additions.push(job);\r\n      }\r\n      if (!e.jobId) updates.push({ entryId: e.id, jobId: job.id });\r\n    });\r\n    if (additions.length || updates.length) {\r\n      const updatedJobs = [...currentJobs, ...additions];\r\n      const updatedEntries = entries.map(e => {\r\n        const upd = updates.find(u => u.entryId === e.id);\r\n        return upd ? { ...e, jobId: upd.jobId } : e;\r\n      });\r\n      updateAppData({ jobs: updatedJobs, entries: updatedEntries });\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Legacy auto-derivation removed.\r\n\r\n  const openJobs = jobs.filter(j => !j.closed);\r\n  const closedJobs = jobs.filter(j => j.closed);\r\n\r\n  // Aggregate metrics for jobs\r\n  const jobStats = useMemo(() => {\r\n    const map = {};\r\n    (appData.entries || []).forEach(e => {\r\n      const jobId = e.jobId;\r\n      if (!jobId) return;\r\n      if (!map[jobId]) map[jobId] = { hours: 0, amount: 0 };\r\n      if (e.end) {\r\n        const client = appData.clients.find(c => c.id === e.clientId);\r\n        const hours = dataService.durationToHours(e.end - e.start);\r\n        map[jobId].hours += hours;\r\n        map[jobId].amount += client ? hours * client.rate : 0;\r\n      }\r\n    });\r\n    return map;\r\n  }, [appData.entries, appData.clients]);\r\n\r\n  const closeJob = (job) => {\r\n    if (!window.confirm(`Close job \"${job.name}\"? It will be hidden from selection.`)) return;\r\n    updateAppData({ jobs: jobs.map(j => j.id === job.id ? { ...j, closed: true, closedAt: Date.now() } : j) });\r\n  };\r\n\r\n  const reopenJob = (job) => {\r\n    updateAppData({ jobs: jobs.map(j => j.id === job.id ? { ...j, closed: false, closedAt: null } : j) });\r\n  };\r\n\r\n  // ---- Charges Helpers (Phase 1 Parts & Expenses) ----\r\n  const chargesForJob = (jobId) => charges.filter(c => c.jobId === jobId);\r\n\r\n  const addCharge = (job) => {\r\n    const desc = chargeForm.description.trim();\r\n    if (!desc) { alert('Description required'); return; }\r\n    const qty = parseFloat(chargeForm.quantity)||0; if (qty<=0){ alert('Quantity must be > 0'); return; }\r\n    const unitCost = parseFloat(chargeForm.unitCost)||0; if (unitCost<0){ alert('Unit cost >= 0'); return; }\r\n    const unitPrice = chargeForm.unitPrice ? parseFloat(chargeForm.unitPrice) : unitCost;\r\n    if (unitPrice < 0) { alert('Unit price >= 0'); return; }\r\n    const amountCached = qty * unitPrice;\r\n    // Determine client: prefer explicit selection on form if present\r\n    const inferredClientId = (appData.entries.find(e=>e.jobId===job.id)?.clientId) || chargeForm.clientId || (appData.clients[0]?.id)||'';\r\n    if (!inferredClientId) { alert('Select a client for this charge.'); return; }\r\n    const newCharge = {\r\n      id: dataService.generateId(),\r\n      jobId: job.id,\r\n      clientId: inferredClientId,\r\n      kind: chargeForm.kind,\r\n      description: desc,\r\n      quantity: qty,\r\n      unitCost,\r\n      unitPrice,\r\n  category: chargeForm.kind === 'expense' ? (chargeForm.category || 'other') : undefined,\r\n      amountCached,\r\n      createdAt: Date.now(),\r\n      invoiced: false\r\n    };\r\n    updateAppData({ charges: [...charges, newCharge] });\r\n    setChargeForm({ kind:'part', description:'', quantity:'1', unitCost:'', unitPrice:'', clientId: chargeForm.clientId||'' });\r\n  };\r\n\r\n  const deleteCharge = (chargeId) => {\r\n    if (!window.confirm('Delete this charge?')) return;\r\n    updateAppData({ charges: charges.filter(c => c.id !== chargeId) });\r\n  };\r\n  const beginEdit = (charge) => {\r\n    if (charge.invoiced) return;\r\n    setEditingChargeId(charge.id);\r\n    setEditDraft({ ...charge, quantity: String(charge.quantity), unitCost: String(charge.unitCost), unitPrice: String(charge.unitPrice), description: charge.description, category: charge.category || '' });\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditingChargeId(null);\r\n    setEditDraft(null);\r\n  };\r\n\r\n  const saveEdit = () => {\r\n    if (!editDraft) return;\r\n    const desc = editDraft.description.trim(); if (!desc) { alert('Description required'); return; }\r\n    const qty = parseFloat(editDraft.quantity)||0; if (qty<=0){ alert('Qty > 0'); return; }\r\n    const unitCost = parseFloat(editDraft.unitCost)||0; if (unitCost<0){ alert('Cost >=0'); return; }\r\n    const unitPrice = parseFloat(editDraft.unitPrice)||0; if (unitPrice<0){ alert('Price >=0'); return; }\r\n    const amountCached = qty * unitPrice;\r\n    const updated = charges.map(c => c.id === editDraft.id ? { ...c, description: desc, quantity: qty, unitCost, unitPrice, amountCached, category: c.kind==='expense' ? (editDraft.category||'other') : undefined } : c);\r\n    updateAppData({ charges: updated });\r\n    cancelEdit();\r\n  };\r\n\r\n  const parseBulk = (job) => {\r\n    const lines = bulkText.split(/\\r?\\n/).map(l=>l.trim()).filter(l=>l);\r\n    if (!lines.length) { alert('No lines to import'); return; }\r\n    const newOnes = [];\r\n    for (const line of lines) {\r\n      // description,qty,cost,price,kind(optional),category(optional)\r\n      const parts = line.split(',').map(p=>p.trim());\r\n      if (parts.length < 4) { continue; }\r\n      let [description, qtyStr, costStr, priceStr, kindStr, catStr] = parts;\r\n      const qty = parseFloat(qtyStr)||0; if (qty<=0) continue;\r\n      const unitCost = parseFloat(costStr)||0; if (unitCost<0) continue;\r\n      const unitPrice = parseFloat(priceStr); const finalPrice = isNaN(unitPrice)?unitCost:unitPrice;\r\n      const kind = (kindStr==='expense' || kindStr==='part') ? kindStr : 'part';\r\n      const category = kind==='expense' ? (catStr || 'other') : undefined;\r\n      const amountCached = qty * finalPrice;\r\n      const inferredClientId = (appData.entries.find(e=>e.jobId===job.id)?.clientId) || chargeForm.clientId || (appData.clients[0]?.id)||'';\r\n      newOnes.push({ id: dataService.generateId(), jobId: job.id, clientId: inferredClientId, kind, description, quantity: qty, unitCost, unitPrice: finalPrice, amountCached, createdAt: Date.now(), invoiced: false, category });\r\n    }\r\n    if (!newOnes.length) { alert('No valid lines parsed'); return; }\r\n    updateAppData({ charges: [...charges, ...newOnes] });\r\n    setBulkText('');\r\n    setShowBulkAdd(false);\r\n  };\r\n\r\n  const formatCurrency = (v) => dataService.formatCurrency(v);\r\n\r\n\r\n  return (\r\n    <div className=\"tab-content\">\r\n      <Card>\r\n        <h2 className=\"page-title\">Jobs</h2>\r\n        <p className=\"text-xs text-gray-400\">Manage open jobs and invoice work per job.</p>\r\n      </Card>\r\n\r\n      <Card>\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">Open Jobs ({openJobs.length})</h3>\r\n        </div>\r\n        {openJobs.length === 0 ? (\r\n          <div className=\"empty-state\"><p className=\"empty-state-text\">No open jobs</p></div>\r\n        ) : (\r\n          <div className=\"activity-list\">\r\n            {openJobs.sort((a,b)=>a.name.localeCompare(b.name)).map(job => {\r\n              const stats = jobStats[job.id] || { hours:0, amount:0 };\r\n              return (\r\n                <div key={job.id} className=\"individual-job-card\" style={{marginBottom:0}}>\r\n                  <div className=\"job-card-content\">\r\n                    <div className=\"job-main-info\">\r\n                      <div className=\"job-title\">{job.name}</div>\r\n                      <div className=\"job-time\">{stats.hours.toFixed(2)}h â€¢ {dataService.formatCurrency(stats.amount)}</div>\r\n                      {job.closed && <div className=\"job-status\"><span className=\"status-overdue\">Closed</span></div>}\r\n                    </div>\r\n                    <div className=\"job-actions\">\r\n                      <Button size=\"small\" variant=\"primary\" onClick={() => onInvoiceJob(job.id)} title=\"Invoice job\" aria-label={`Generate invoice for job ${job.name}`}>ðŸ’µ</Button>\r\n                      <Button size=\"small\" variant=\"secondary\" onClick={() => closeJob(job)} title=\"Close job\" aria-label={`Close job ${job.name}`}>âœ“</Button>\r\n                      <Button size=\"small\" variant=\"secondary\" onClick={() => setExpandedChargesJobId(expandedChargesJobId===job.id?null:job.id)} aria-label={`Toggle charges for job ${job.name}`}>ðŸ’²</Button>\r\n                    </div>\r\n                  </div>\r\n                  {expandedChargesJobId === job.id && (\r\n                    <div className=\"mt-2 p-2 rounded bg-gray-50 border border-gray-200\">\r\n                      <div className=\"text-xs font-semibold mb-1\">Charges</div>\r\n                                        {/* Client selector if multiple clients or no inferred client */}\r\n                                        {(!appData.entries.some(e=>e.jobId===job.id) && (appData.clients||[]).length > 1) && (\r\n                                          <div className=\"mb-1\">\r\n                                            <select\r\n                                              className=\"border rounded px-1 py-0.5 text-[11px] w-full\"\r\n                                              value={chargeForm.clientId || ''}\r\n                                              onChange={e=>setChargeForm(f=>({...f, clientId: e.target.value}))}\r\n                                              aria-label=\"Charge client\"\r\n                                            >\r\n                                              <option value=\"\">-- Select Client --</option>\r\n                                              {(appData.clients||[]).map(c=> <option key={c.id} value={c.id}>{c.name}</option>)}\r\n                                            </select>\r\n                                          </div>\r\n                                        )}\r\n                      {chargesForJob(job.id).length === 0 ? (\r\n                        <div className=\"text-xs text-gray-500 mb-2\">No charges</div>\r\n                      ) : (\r\n                        <div className=\"space-y-1 mb-2\">\r\n                          {chargesForJob(job.id).map(ch => {\r\n                            const isEditing = ch.id === editingChargeId;\r\n                            const margin = ch.unitPrice > 0 ? ((ch.unitPrice - ch.unitCost)/ch.unitPrice)*100 : 0;\r\n                            return (\r\n                              <div key={ch.id} className=\"bg-white rounded px-2 py-1 border border-gray-200 text-[11px]\">\r\n                                {isEditing ? (\r\n                                  <div className=\"grid grid-cols-12 gap-1 items-center\">\r\n                                    <input className=\"col-span-3 border rounded px-1 py-0.5\" value={editDraft.description} onChange={e=>setEditDraft(d=>({...d, description:e.target.value}))} />\r\n                                    <input className=\"col-span-1 border rounded px-1 py-0.5\" type=\"number\" value={editDraft.quantity} onChange={e=>setEditDraft(d=>({...d, quantity:e.target.value}))} />\r\n                                    <input className=\"col-span-1 border rounded px-1 py-0.5\" type=\"number\" value={editDraft.unitCost} onChange={e=>setEditDraft(d=>({...d, unitCost:e.target.value}))} />\r\n                                    <input className=\"col-span-1 border rounded px-1 py-0.5\" type=\"number\" value={editDraft.unitPrice} onChange={e=>setEditDraft(d=>({...d, unitPrice:e.target.value}))} />\r\n                                    {ch.kind==='expense' && (\r\n                                      <select className=\"col-span-2 border rounded px-1 py-0.5\" value={editDraft.category} onChange={e=>setEditDraft(d=>({...d, category:e.target.value}))}>\r\n                                        <option value=\"\">(cat)</option>\r\n                                        <option value=\"shipping\">Shipping</option>\r\n                                        <option value=\"disposal\">Disposal</option>\r\n                                        <option value=\"diagnostic\">Diagnostic</option>\r\n                                        <option value=\"other\">Other</option>\r\n                                      </select>\r\n                                    )}\r\n                                    <div className=\"col-span-1 text-right font-medium\">{formatCurrency((parseFloat(editDraft.quantity)||0)*(parseFloat(editDraft.unitPrice)||0))}</div>\r\n                                    <div className=\"col-span-2 flex gap-1 justify-end\">\r\n                                      <button className=\"text-green-600\" onClick={saveEdit} aria-label=\"Save charge edit\">âœ”</button>\r\n                                      <button className=\"text-gray-500\" onClick={cancelEdit} aria-label=\"Cancel edit\">âœ•</button>\r\n                                    </div>\r\n                                  </div>\r\n                                ) : (\r\n                                  <div className=\"flex justify-between items-center\">\r\n                                    <div className=\"truncate\" title={ch.description}>\r\n                                      {ch.kind === 'part' ? 'ðŸ§©' : 'ðŸ§¾'} {ch.description} ({ch.quantity} x {dataService.formatCurrency(ch.unitPrice)}){ch.kind==='expense' && ch.category ? ` â€¢ ${ch.category}`:''}\r\n                                      <span className=\"ml-1 text-[10px] text-gray-400\">{margin.toFixed(0)}%</span>\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                      <span className=\"font-medium\">{dataService.formatCurrency(ch.amountCached)}</span>\r\n                                      {!ch.invoiced && <>\r\n                                        <button className=\"text-blue-600 text-xs\" onClick={()=>beginEdit(ch)} aria-label=\"Edit charge\">âœŽ</button>\r\n                                        <button className=\"text-red-500 text-xs\" onClick={()=>deleteCharge(ch.id)} aria-label=\"Delete charge\">âœ•</button>\r\n                                      </>}\r\n                                    </div>\r\n                                  </div>\r\n                                )}\r\n                              </div>\r\n                            );\r\n                          })}\r\n                          {/* Per-job totals */}\r\n                          <div className=\"flex justify-between text-[11px] font-semibold border-t pt-1 mt-1\">\r\n                            <span>Charges Total</span>\r\n                            <span>{formatCurrency(chargesForJob(job.id).reduce((s,c)=>s+c.amountCached,0))}</span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                      {/* Bulk Add Toggle */}\r\n                      <div className=\"mb-2\">\r\n                        {!showBulkAdd ? (\r\n                          <button className=\"text-[10px] text-blue-600 underline\" onClick={()=>setShowBulkAdd(true)} aria-label=\"Show bulk add charges\">Bulk Add CSV</button>\r\n                        ) : (\r\n                          <div className=\"mb-2\">\r\n                            <textarea className=\"w-full border rounded p-1 text-[10px] h-16 mb-1\" placeholder=\"description,qty,cost,price,kind(optional),category(optional)\" value={bulkText} onChange={e=>setBulkText(e.target.value)} />\r\n                            <div className=\"flex gap-2\">\r\n                              <button className=\"text-[10px] bg-blue-600 text-white px-2 py-0.5 rounded\" onClick={()=>parseBulk(job)} aria-label=\"Import bulk charges\">Import</button>\r\n                              <button className=\"text-[10px] text-gray-600 underline\" onClick={()=>{setShowBulkAdd(false); setBulkText('');}} aria-label=\"Cancel bulk add\">Cancel</button>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"grid grid-cols-5 gap-1 mb-2\">\r\n                        <select className=\"border rounded px-1 py-0.5 text-[11px] col-span-1\" value={chargeForm.kind} onChange={e=>setChargeForm(f=>({...f, kind:e.target.value}))} aria-label=\"Charge kind\">\r\n                          <option value=\"part\">Part</option>\r\n                          <option value=\"expense\">Expense</option>\r\n                        </select>\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px] col-span-2\" placeholder=\"Description\" value={chargeForm.description} onChange={e=>setChargeForm(f=>({...f, description:e.target.value}))} />\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px]\" placeholder=\"Qty\" type=\"number\" min=\"0.01\" step=\"0.01\" value={chargeForm.quantity} onChange={e=>setChargeForm(f=>({...f, quantity:e.target.value}))} />\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px]\" placeholder=\"Cost\" type=\"number\" min=\"0\" step=\"0.01\" value={chargeForm.unitCost} onChange={e=>setChargeForm(f=>({...f, unitCost:e.target.value}))} />\r\n                        <input className=\"border rounded px-1 py-0.5 text-[11px] col-span-2\" placeholder=\"Price\" type=\"number\" min=\"0\" step=\"0.01\" value={chargeForm.unitPrice} onChange={e=>setChargeForm(f=>({...f, unitPrice:e.target.value}))} />\r\n                        {chargeForm.kind==='expense' && (\r\n                          <select className=\"border rounded px-1 py-0.5 text-[11px] col-span-1\" value={chargeForm.category} onChange={e=>setChargeForm(f=>({...f, category:e.target.value}))} aria-label=\"Expense category\">\r\n                            <option value=\"\">Cat</option>\r\n                            <option value=\"shipping\">Ship</option>\r\n                            <option value=\"disposal\">Disp</option>\r\n                            <option value=\"diagnostic\">Diag</option>\r\n                            <option value=\"other\">Other</option>\r\n                          </select>\r\n                        )}\r\n                        <button className=\"bg-blue-600 hover:bg-blue-700 text-white rounded px-2 py-0.5 text-[11px] col-span-1\" type=\"button\" onClick={()=>addCharge(job)} title=\"Add charge\">Add</button>\r\n                      </div>\r\n                      <div className=\"text-[10px] text-gray-400\">Leave Price empty to use Cost. Amount auto-calculated.</div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </Card>\r\n\r\n      <Card>\r\n        <div className=\"card-header\">\r\n          <h3 className=\"card-title\">Closed Jobs ({closedJobs.length})</h3>\r\n        </div>\r\n        {closedJobs.length === 0 ? (\r\n          <div className=\"empty-state\"><p className=\"empty-state-text\">No closed jobs</p></div>\r\n        ) : (\r\n          <div className=\"activity-list\">\r\n            {closedJobs.sort((a,b)=>b.closedAt - a.closedAt).map(job => {\r\n              const stats = jobStats[job.id] || { hours:0, amount:0 };\r\n              return (\r\n                <div key={job.id} className=\"individual-job-card opacity-70\" style={{marginBottom:0}}>\r\n                  <div className=\"job-card-content\">\r\n                    <div className=\"job-main-info\">\r\n                      <div className=\"job-title\">{job.name}</div>\r\n                      <div className=\"job-time\">{stats.hours.toFixed(2)}h â€¢ {dataService.formatCurrency(stats.amount)}</div>\r\n                      <div className=\"job-client text-xs text-gray-400\">Closed {job.closedAt ? new Date(job.closedAt).toLocaleDateString() : ''}</div>\r\n                    </div>\r\n                    <div className=\"job-actions\">\r\n                      <Button size=\"small\" variant=\"secondary\" onClick={() => reopenJob(job)} title=\"Re-open job\" aria-label={`Re-open job ${job.name}`}>â†©ï¸</Button>\r\n                      <Button size=\"small\" variant=\"primary\" onClick={() => onInvoiceJob(job.id)} title=\"Invoice again\" aria-label={`Generate another invoice for job ${job.name}`}>ðŸ’µ</Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobsTab;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}